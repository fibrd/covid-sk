{"version":3,"sources":["webpack:///./src/pages/Documenter/Certificate.vue?e4e6","webpack:///src/pages/Documenter/Certificate.vue","webpack:///./src/pages/Documenter/Certificate.vue?0853","webpack:///./src/pages/Documenter/Certificate.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","_s","$t","ref","model","value","callback","$$v","code","expression","personalNumber","on","downloadPDF","_e","staticRenderFns","data","methods","processingDownload","PrintCertificateByDocumentManager","registrationCode","r","nextTestClick","console","log","visitor","testingSet","RemoveFromDocQueue","GetNextTest","then","parseRC","rc","substring","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,cAAc,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,wBAAwBH,EAAG,IAAI,CAACJ,EAAIO,GAAG,mJAAmJ,GAAGH,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAM,SAAS,CAACR,EAAIO,GAAGP,EAAIS,GAAGT,EAAIU,GAAG,mBAAmBN,EAAG,UAAU,CAACO,IAAI,OAAOC,MAAM,CAACC,MAAOb,EAAQ,KAAEc,SAAS,SAAUC,GAAMf,EAAIgB,KAAKD,GAAKE,WAAW,WAAW,GAAGb,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAM,mBAAmB,CAACR,EAAIO,GAAG,8BAA8BH,EAAG,UAAU,CAACO,IAAI,iBAAiBH,MAAM,CAAC,GAAK,kBAAkBI,MAAM,CAACC,MAAOb,EAAkB,eAAEc,SAAS,SAAUC,GAAMf,EAAIkB,eAAeH,GAAKE,WAAW,qBAAqB,IAAI,GAAGb,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,SAAS,CAACE,YAAY,uBAAuBa,GAAG,CAAC,MAAQnB,EAAIoB,cAAc,CAACpB,EAAIO,GAAG,iBAAiBH,EAAG,MAAM,CAACI,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,OAAO,OAAS,KAAK,QAAU,YAAY,KAAO,eAAe,UAAY,UAAU,CAACJ,EAAG,OAAO,CAACI,MAAM,CAAC,KAAO,eAAe,EAAI,oCAAqCR,EAAsB,mBAAEI,EAAG,YAAY,CAACE,YAAY,OAAOE,MAAM,CAAC,MAAQ,MAAMR,EAAIqB,MAAM,MAAM,IAAI,IAAI,IAC93CC,EAAkB,G,msBCwFtB,OACEC,KADF,WAEI,MAAO,CAAX,mCAGEC,QAAS,EAAX,OACA,gBACI,YAAJ,qBACI,mBAAJ,4BACI,kCACJ,8CAEA,gBACI,YAAJ,0BARA,IAUIJ,YAVJ,WAUA,WACMnB,KAAKwB,oBAAqB,EAC1BxB,KAAKyB,kCAAkC,CACrCC,iBAAkB1B,KAAK0B,iBACvBT,eAAgBjB,KAAKiB,iBAC7B,kBAEU,EAAV,QADYU,GAGZ,gBAEQ,EAAR,0BAGIC,cAxBJ,WAwBA,WACMC,QAAQC,IAAI,SACR9B,KAAK+B,QAAQC,WACfhC,KAAKiC,mBAAmB,CAAhC,uCACA,YACA,GACY,EAAZ,0CAEU,EAAV,gCACA,EACc,EAAd,WAEc,EAAd,WACc,EAAd,YACA,yEAOQjC,KAAKkC,cAAcC,MAAK,SAAhC,GACcR,EACF,EAAZ,WAEY,EAAZ,WACY,EAAZ,6DAKIS,QAvDJ,WAwDM,OAAKpC,KAAK+B,SACL/B,KAAK+B,QAAQM,GACXrC,KAAK+B,QAAQM,GAAGC,UAAU,EAAG,GAFV,OCtJoU,I,YCOhWC,EAAY,eACd,EACAzC,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E","file":"js/chunk-2d0d0076.30f80547.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-pane-lgray py-2\"},[_c('b-container',[_c('h1',[_vm._v(\"Správca dokumentov\")]),_c('p',[_vm._v(\" Správca dokumentov má možnosť načítať údaje na základe kódu registrácie alebo rodného čísla a vygenerovať a vytlačiť PDF výsledku testu. \")])])],1),_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('label',{attrs:{\"for\":\"code\"}},[_vm._v(_vm._s(_vm.$t(\"resultsCode\")))]),_c('b-input',{ref:\"code\",model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('label',{attrs:{\"for\":\"personalNumber\"}},[_vm._v(\"Alebo r.č. alebo č. pasu\")]),_c('b-input',{ref:\"personalNumber\",attrs:{\"id\":\"personalNumber\"},model:{value:(_vm.personalNumber),callback:function ($$v) {_vm.personalNumber=$$v},expression:\"personalNumber\"}})],1)],1),_c('b-row',[_c('b-col',[_c('button',{staticClass:\"btn btn-primary my-4\",on:{\"click\":_vm.downloadPDF}},[_vm._v(\" Siahnuť PDF \"),_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"17.5\",\"height\":\"19\",\"viewBox\":\"0 0 33 40\",\"role\":\"presentation\",\"focusable\":\"false\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M0 0h13l20 20-20 20H0l20-20z\"}})]),(_vm.processingDownload)?_c('b-spinner',{staticClass:\"ml-1\",attrs:{\"small\":\"\"}}):_vm._e()],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"app-pane-lgray py-2\">\n      <b-container>\n        <h1>Správca dokumentov</h1>\n        <p>\n          Správca dokumentov má možnosť načítať údaje na základe kódu\n          registrácie alebo rodného čísla a vygenerovať a vytlačiť PDF výsledku\n          testu.\n        </p>\n      </b-container>\n    </div>\n    <b-container\n      ><b-row>\n        <b-col cols=\"12\" md=\"6\">\n          <label for=\"code\">{{ $t(\"resultsCode\") }}</label>\n\n          <b-input v-model=\"code\" ref=\"code\" />\n        </b-col>\n        <b-col cols=\"12\" md=\"6\">\n          <label for=\"personalNumber\">Alebo r.č. alebo č. pasu</label>\n          <b-input\n            v-model=\"personalNumber\"\n            ref=\"personalNumber\"\n            id=\"personalNumber\"\n          />\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col>\n          <button @click=\"downloadPDF\" class=\"btn btn-primary my-4\">\n            Siahnuť PDF\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"17.5\"\n              height=\"19\"\n              viewBox=\"0 0 33 40\"\n              role=\"presentation\"\n              focusable=\"false\"\n            >\n              <path fill=\"currentColor\" d=\"M0 0h13l20 20-20 20H0l20-20z\" />\n            </svg>\n            <b-spinner small v-if=\"processingDownload\" class=\"ml-1\" />\n          </button>\n        </b-col>\n      </b-row>\n    </b-container>\n    <!--\n    <b-container>\n      <b-table-simple v-if=\"visitor && visitor.id\">\n        <b-tr> <b-th>Typ</b-th><b-th>Hodnota</b-th> </b-tr>\n        <b-tr>\n          <b-th>Meno</b-th\n          ><b-td>{{ visitor.firstName }} {{ visitor.lastName }}</b-td>\n        </b-tr>\n        <b-tr>\n          <b-th>Dátum narodenia / Doklad cudzinca</b-th\n          ><b-td>{{ parseRC() }} {{ visitor.passport }}</b-td>\n        </b-tr>\n        <b-tr>\n          <b-th>Výsledok testu</b-th>\n          <b-td v-if=\"visitor.result === 'positive'\">\n            <div class=\"badge badge-danger\">Pozitívny</div>\n          </b-td>\n          <b-td v-if=\"visitor.result === 'negative'\">\n            <div class=\"badge badge-danger\">Negatívny</div>\n          </b-td>\n        </b-tr>\n      </b-table-simple>\n      <button @click=\"nextTestClick\" class=\"btn btn-primary my-4\">\n        Načítať údaje ďalšieho testu\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"17.5\"\n          height=\"19\"\n          viewBox=\"0 0 33 40\"\n          role=\"presentation\"\n          focusable=\"false\"\n        >\n          <path fill=\"currentColor\" d=\"M0 0h13l20 20-20 20H0l20-20z\" />\n        </svg>\n      </button>\n    </b-container>\n    -->\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nexport default {\n  data() {\n    return { visitor: {}, processingDownload: false };\n  },\n\n  methods: {\n    ...mapActions({\n      GetNextTest: \"result/GetNextTest\",\n      RemoveFromDocQueue: \"result/RemoveFromDocQueue\",\n      PrintCertificateByDocumentManager:\n        \"result/PrintCertificateByDocumentManager\",\n    }),\n    ...mapActions({\n      openSuccess: \"snackbar/openSuccess\",\n    }),\n    downloadPDF() {\n      this.processingDownload = true;\n      this.PrintCertificateByDocumentManager({\n        registrationCode: this.registrationCode,\n        personalNumber: this.personalNumber,\n      }).then(r => {\n        if (r) {\n          this.results = r;\n        } else {\n          this.results = { state: \"error\" };\n        }\n        this.processingDownload = false;\n      });\n    },\n    nextTestClick() {\n      console.log(\"click\");\n      if (this.visitor.testingSet) {\n        this.RemoveFromDocQueue({ testId: this.visitor.testingSet }).then(\n          r1 => {\n            if (r1) {\n              this.openSuccess(\"Test bol odobraný z fronty\");\n            }\n            this.GetNextTest().then(r => {\n              if (r) {\n                this.visitor = r;\n              } else {\n                this.visitor = {};\n                this.openSuccess(\n                  \"Zatiaľ nie je dostupný žiadny ďalší test. Skúste znovu neskôr.\"\n                );\n              }\n            });\n          }\n        );\n      } else {\n        this.GetNextTest().then(r => {\n          if (r) {\n            this.visitor = r;\n          } else {\n            this.visitor = {};\n            this.openSuccess(\"Zatiaľ nie je dostupný žiadny ďalší test\");\n          }\n        });\n      }\n    },\n    parseRC() {\n      if (!this.visitor) return \"\";\n      if (!this.visitor.rc) return \"\";\n      return this.visitor.rc.substring(0, 6);\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Certificate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Certificate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Certificate.vue?vue&type=template&id=8aec9112&\"\nimport script from \"./Certificate.vue?vue&type=script&lang=js&\"\nexport * from \"./Certificate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}