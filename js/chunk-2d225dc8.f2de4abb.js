(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225dc8"],{e5ce:function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("div",{staticClass:"app-pane-lgray py-2"},[e("b-container",[e("h1",[t._v("Zaregistrovaný návštevník")])])],1),"select"===t.action?e("b-container",{staticClass:"my-4"},[e("b-row",[e("b-col",[e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:function(o){t.action="rc"}}},[t._v(" Načítať rodné číslo "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])]),e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:function(o){t.action="regCode"}}},[t._v(" Načítať kód registrácie "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])])])],1)],1):t._e(),"rc"===t.action?e("b-container",{staticClass:"my-4"},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("button",{staticClass:"float-right bg-light my-2",on:{click:t.reset}},[t._v(" Zrušiť ")]),e("label",{attrs:{for:"code1"}},[t._v("Rodné číslo")]),e("b-input",{attrs:{id:"code1"},model:{value:t.code,callback:function(o){t.code=o},expression:"code"}}),e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:t.loadByRC}},[t._v(" Overiť registráciu "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])])],1)],1)],1):t._e(),"regCode"===t.action?e("b-container",{staticClass:"my-4"},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("button",{staticClass:"float-right bg-light my-2",on:{click:t.reset}},[t._v(" Zrušiť ")]),e("label",{attrs:{for:"code1"}},[t._v("Kód registrácie")]),e("b-input",{attrs:{id:"code1"},model:{value:t.code,callback:function(o){t.code=o},expression:"code"}}),e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:t.confirmCode}},[t._v(" Načítať kód registrácie "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])])],1),e("b-col",[e("StreamBarcodeReader",{on:{decode:t.onDecode}})],1)],1)],1):t._e(),"verifyPerson"===t.action?e("b-container",{staticClass:"my-4"},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("button",{staticClass:"float-right bg-light my-2",on:{click:t.reset}},[t._v(" Zrušiť ")]),e("h2",[t._v("Overenie užívateľa")]),e("div",[t._v("Kod: "+t._s(t.visitor.id))]),e("div",[t._v("Meno: "+t._s(t.visitor.firstName)+" "+t._s(t.visitor.lastName))]),e("div",[t._v("Poisťovňa: "+t._s(t.visitor.insurance))]),e("div",[t._v("RČ: "+t._s(t.visitor.rc)+" "+t._s(t.visitor.passport))]),e("div",[t._v("Adresa: "+t._s(t.visitor.address))]),e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:function(o){t.action="testSetCode"}}},[t._v(" Osoba je overená "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])]),e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:function(o){return t.$router.push("/tester/unannouncedVisitor")}}},[t._v(" Chybné údaje "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])])])],1)],1):t._e(),"testSetCode"===t.action?e("b-container",{staticClass:"my-4"},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("button",{staticClass:"float-right bg-light my-2",on:{click:t.reset}},[t._v(" Zrušiť ")]),e("label",{attrs:{for:"testingset1"}},[t._v("Kód testovacej sady")]),e("b-input",{attrs:{id:"testingset1"},model:{value:t.testingset,callback:function(o){t.testingset=o},expression:"testingset"}}),e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:t.save}},[t._v(" Vykonať test "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])])],1),e("b-col",[e("StreamBarcodeReader",{on:{decode:t.onDecode}})],1)],1)],1):t._e(),"old"===t.action?e("b-container",{staticClass:"my-4"},[e("b-row",[e("b-col",{attrs:{cols:"4"}},[e("b-form-group",{attrs:{label:"Scanuje sa typ údaju"}},[e("b-form-radio",{attrs:{name:"person-type",value:"code"},model:{value:t.scanningData,callback:function(o){t.scanningData=o},expression:"scanningData"}},[t._v("Kód registrácie")]),e("b-form-radio",{attrs:{name:"person-type",value:"testingset"},model:{value:t.scanningData,callback:function(o){t.scanningData=o},expression:"scanningData"}},[t._v("Skúmavka")])],1)],1),e("b-col",{attrs:{cols:"8"}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("label",{attrs:{for:"code"}},[t._v("Kód registrácie")]),e("b-input",{ref:"code",attrs:{id:"code"},model:{value:t.code,callback:function(o){t.code=o},expression:"code"}})],1),"check"===t.state||"visitor-error"===t.state?e("b-col",{attrs:{cols:"12"}},[e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:t.load}},[t._v(" Skontrolovať údaje "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])])]):t._e(),"loading-data"===t.state?e("b-col",{attrs:{cols:"12"}},[e("div",[e("B",[t._v("Čítam dáta")]),t._v(" "),e("b-spinner")],1)]):t._e(),"visitor-loaded"===t.state?e("b-col",{attrs:{cols:"12"}},[e("div",[t._v("Meno: "+t._s(t.visitor.firstName)+" "+t._s(t.visitor.lastName))]),e("div",[t._v("Poisťovňa: "+t._s(t.visitor.insurance))])]):t._e(),e("b-col",{attrs:{cols:"12"}},[e("label",{attrs:{for:"testingset"}},[t._v("Skúmavka")]),e("b-input",{ref:"testingset",attrs:{id:"testingset"},model:{value:t.testingset,callback:function(o){t.testingset=o},expression:"testingset"}})],1),"visitor-loaded"===t.state?e("b-col",{attrs:{cols:"12"}},[e("button",{staticClass:"govuk-button govuk-!-margin-right-3 govuk-button--start my-4",on:{click:t.save}},[t._v(" Uložiť "),e("svg",{staticClass:"govuk-button__start-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"19",viewBox:"0 0 33 40",role:"presentation",focusable:"false"}},[e("path",{attrs:{fill:"currentColor",d:"M0 0h13l20 20-20 20H0l20-20z"}})])])]):t._e()],1)],1)],1),e("StreamBarcodeReader",{on:{decode:t.onDecode,loaded:t.onLoaded}})],1):t._e()],1)},i=[],a=e("f337"),r=e("2f62");function n(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,s)}return e}function c(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?n(Object(e),!0).forEach((function(o){l(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}function l(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}var u={components:{StreamBarcodeReader:a["a"]},data:function(){return{action:"select",state:"check",visitor:{},scanningData:"code",code:"",testingset:"",readerSize:{width:120,height:90},detecteds:[]}},mounted:function(){var t=this;console.log("this.$route.params.id",this.$route.params.id),this.$route.params.id&&(this.code=this.$route.params.id,this.GetVisitor({visitorCode:this.code}).then((function(o){o?(t.visitor=o,t.action="verifyPerson"):t.state="visitor-error"})))},methods:c(c({},Object(r["b"])({ConnectVisitorToTest:"result/ConnectVisitorToTest",GetVisitor:"result/GetVisitor",GetVisitorByRC:"result/GetVisitorByRC"})),{},{load:function(){var t=this;this.state="loading-data",this.GetVisitor({visitorCode:this.code}).then((function(o){o?(t.visitor=o,t.action="verifyPerson"):t.state="visitor-error"}))},loadByRC:function(){var t=this;this.state="loading-data",this.GetVisitorByRC({rc:this.code}).then((function(o){o?(t.code=o.id,t.visitor=o,t.action="verifyPerson"):t.state="visitor-error"}))},save:function(){var t=this;this.ConnectVisitorToTest({visitorCode:this.code,testCode:this.testingset}).then((function(o){o&&(t.action="select",t.code="",t.testingset="")}))},onDecode:function(t){var o=this;t&&("regCode"==this.action?(this.code=t,this.load().then((function(t){t&&(o.action="verifyPerson")}))):this.testingset=t)},confirmCode:function(){this.action="verifyPerson",this.load()},reset:function(){this.action="select",this.code="",this.testingset=""}})},v=u,d=e("2877"),g=Object(d["a"])(v,s,i,!1,null,null,null);o["default"]=g.exports}}]);