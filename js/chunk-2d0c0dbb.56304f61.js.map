{"version":3,"sources":["webpack:///./src/pages/User/Invitations.vue?5d87","webpack:///src/pages/User/Invitations.vue","webpack:///./src/pages/User/Invitations.vue?07ff","webpack:///./src/pages/User/Invitations.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","dataInvitations","fieldsInvitations","scopedSlots","_u","key","fn","row","_s","_f","item","invitationTime","status","on","$event","acceptInvitationClick","cancelInvitationClick","_e","staticRenderFns","data","mounted","ListUserInvites","placeProviderId","pp","r","tabIndex","methods","console","log","ProcessInvitation","invitationId","accepted","r1","confirm","component"],"mappings":"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","file":"js/chunk-2d0c0dbb.56304f61.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-pane-lgray py-2\"},[_c('b-container',[_c('h1',[_vm._v(\"Správa pozvánok\")])])],1),_c('b-container',[_c('b-row',[_c('b-col',[_c('b-table',{attrs:{\"items\":_vm.dataInvitations,\"fields\":_vm.fieldsInvitations,\"sortBy\":\"invitationTime\",\"sortDesc\":true},scopedSlots:_vm._u([{key:\"cell(invitationTime)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatDateTime\")(row.item.invitationTime))+\" \")]}},{key:\"cell(status)\",fn:function(row){return [(row.item.status === 'invited')?_c('span',[_vm._v(\" Čaká sa na potvrdenie \")]):(row.item.status === 'declined')?_c('span',[_vm._v(\" Pozvánka bola zamietnutá \")]):(row.item.status === 'accepted')?_c('span',[_vm._v(\" Pozvánka bola prijatá \")]):_c('span',[_vm._v(\" \"+_vm._s(row.item.status)+\" \")])]}},{key:\"cell(actions)\",fn:function(row){return [(row.item.status === 'invited')?_c('span',[_c('button',{staticClass:\"btn btn-primary m-2\",on:{\"click\":function($event){return _vm.acceptInvitationClick(row)}}},[_vm._v(\" Prijať \")]),_c('button',{staticClass:\"btn btn-light m-2\",on:{\"click\":function($event){return _vm.cancelInvitationClick(row)}}},[_vm._v(\" Zamietnuť \")])]):_vm._e()]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"app-pane-lgray py-2\">\n      <b-container>\n        <h1>Správa pozvánok</h1>\n      </b-container>\n    </div>\n    <b-container>\n      <b-row>\n        <b-col>\n          <b-table\n            :items=\"dataInvitations\"\n            :fields=\"fieldsInvitations\"\n            sortBy=\"invitationTime\"\n            :sortDesc=\"true\"\n          >\n            <template #cell(invitationTime)=\"row\">\n              {{ row.item.invitationTime | formatDateTime }}\n            </template>\n            <template #cell(status)=\"row\">\n              <span v-if=\"row.item.status === 'invited'\">\n                Čaká sa na potvrdenie\n              </span>\n              <span v-else-if=\"row.item.status === 'declined'\">\n                Pozvánka bola zamietnutá\n              </span>\n              <span v-else-if=\"row.item.status === 'accepted'\">\n                Pozvánka bola prijatá\n              </span>\n              <span v-else>\n                {{ row.item.status }}\n              </span>\n            </template>\n            <template #cell(actions)=\"row\">\n              <span v-if=\"row.item.status === 'invited'\">\n                <button\n                  @click=\"acceptInvitationClick(row)\"\n                  class=\"btn btn-primary m-2\"\n                >\n                  Prijať\n                </button>\n                <button\n                  @click=\"cancelInvitationClick(row)\"\n                  class=\"btn btn-light m-2\"\n                >\n                  Zamietnuť\n                </button>\n              </span>\n            </template>\n          </b-table>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      dataInvitations: [],\n      fieldsInvitations: [\n        {\n          label: \"Spoločnosť\",\n          key: \"companyName\",\n          sortable: true,\n        },\n        {\n          label: \"Pozval ma\",\n          key: \"inviterName\",\n          sortable: true,\n        },\n        {\n          label: \"Čas pozvánky\",\n          key: \"invitationTime\",\n          sortable: true,\n        },\n        {\n          label: \"Stav pozvánky\",\n          key: \"status\",\n          sortable: true,\n        },\n        {\n          label: \"Akcie\",\n          key: \"actions\",\n          sortable: false,\n        },\n      ],\n    };\n  },\n  mounted() {\n    this.ListUserInvites({\n      placeProviderId: this.pp,\n    }).then(r => {\n      if (r) {\n        this.dataInvitations = r;\n      }\n    });\n    this.tabIndex = 0;\n  },\n  methods: {\n    ...mapActions({\n      ListPrivate: \"placeProvider/ListPrivate\",\n      InviteUser: \"user/InviteUser\",\n      ListUserInvites: \"user/ListUserInvites\",\n      InviteUserToPP: \"placeProvider/InviteUserToPP\",\n      LoadUsers: \"user/LoadUsers\",\n      ProcessInvitation: \"user/ProcessInvitation\",\n      ListScheduledDays: \"place/ListScheduledDays\",\n      ReloadPlaces: \"place/ReloadPrivatePlaces\",\n    }),\n    ...mapActions({\n      openSuccess: \"snackbar/openSuccess\",\n    }),\n    acceptInvitationClick(row) {\n      console.log(\"todo\");\n      if (row.item?.invitationId) {\n        this.ProcessInvitation({\n          invitationId: row.item.invitationId,\n          accepted: true,\n        }).then(r1 => {\n          if (r1) {\n            this.ListUserInvites({\n              placeProviderId: this.pp,\n            }).then(r => {\n              if (r) {\n                this.dataInvitations = r;\n              }\n            });\n          }\n        });\n      }\n    },\n    cancelInvitationClick(row) {\n      console.log(\"todo\");\n      if (row.item?.invitationId) {\n        if (confirm(\"Naozaj chcete zrušiť pozvánku?\")) {\n          this.ProcessInvitation({\n            invitationId: row.item.invitationId,\n            accepted: false,\n          }).then(r1 => {\n            if (r1) {\n              this.ListUserInvites({\n                placeProviderId: this.pp,\n              }).then(r => {\n                if (r) {\n                  this.dataInvitations = r;\n                }\n              });\n            }\n          });\n        }\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invitations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invitations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invitations.vue?vue&type=template&id=70c76cb8&\"\nimport script from \"./Invitations.vue?vue&type=script&lang=js&\"\nexport * from \"./Invitations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}