{"version":3,"sources":["webpack:///./src/pages/PlaceProvider/User.vue?0760","webpack:///src/pages/PlaceProvider/User.vue","webpack:///./src/pages/PlaceProvider/User.vue?c70c","webpack:///./src/pages/PlaceProvider/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","placePrivider","companyName","_e","tabIndex","class","place","places","model","value","callback","$$v","expression","style","roleStyle","roles","$set","role2Text","_l","user","key","invitationId","selectedUsers","email","name","name2shortcut","ref","calendarOptions","person","sendingInvitation","on","inviteUserClick","dataInvitations","fieldsInvitations","scopedSlots","_u","fn","row","_f","item","invitationTime","status","$event","deleteInvitationClick","eventinfo","event","start","unassignClick","modalEditShow","getUser","extendedProps","role","end","assignClick","modalSetupShow","placeObj","roleNotSelected","tr","userNotSelected","fromDate","untilDateMinusOneDay","displayHoursFrom","displayHoursUntil","untilDate","staticRenderFns","components","FullCalendar","data","allocations","Date","toISOString","DocumentManager","MedicLab","DataExporter","Helper","MedicTester","revision","phone","message","fields","locale","headerToolbar","center","initialView","plugins","selectable","eventClick","select","selectAllow","eventRender","contentHeight","slotDuration","displayEventTime","firstDay","eventDisplay","events","selection","title","allDay","computed","$store","state","placeProvider","find","pp","tokenData","canAssign","hasRole","index","fullDayMode","day","setDate","getDate","compare","a","b","Object","values","sort","watch","ListPPInvites","placeProviderId","console","log","$refs","calendar","$nextTick","calendarApi","next","prev","ListPlaceAllocations","ListScheduledDays","placeId","r","allPlaces","mounted","ListPrivate","then","ReloadPlaces","methods","redrawEvents","usr","backgroundColor","color","push","processScheduledDays","actions","info","startStr","endStr","getHours","date","formatRoles","join","deleteUserClick","confirm","RemoveUser","InviteUserToPP","element","RemoveAllocationAtPlace","allocationId","id","from","setHours","until","dateObj","date2","length","AllocatePersonsToPlace","getBackground","roleColor","split","toUpperCase","substring","users","component"],"mappings":"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","file":"js/chunk-2d0c8456.817c1c39.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-pane-lgray py-2\"},[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"7\"}},[_c('h1',[_vm._v(\" \"+_vm._s(_vm.$t(\"formAdminHRTitle\"))+\": \"),(_vm.placePrivider)?_c('span',[_vm._v(_vm._s(_vm.placePrivider.companyName))]):_vm._e()])]),(_vm.tabIndex === 0)?_c('b-col',{attrs:{\"md\":\"5\"}},[_c('b-form-select',{staticClass:\"mt-2\",class:this.place === '' ? 'border-danger' : '',attrs:{\"options\":_vm.places,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.place),callback:function ($$v) {_vm.place=$$v},expression:\"place\"}},[_c('b-form-select-option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Vyberte si miesto pre alokovanie osôb na odberové miesta\")])],1)],1):_vm._e()],1)],1)],1),_c('b-container',{staticClass:\"my-4\",attrs:{\"fluid\":\"\"}},[_c('b-tabs',{attrs:{\"card\":\"\"},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},[_c('b-tab',{attrs:{\"title\":\"Správa užívateľov na odberných miestach\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('h2',[_vm._v(_vm._s(_vm.$t(\"TimeAndPeopleSectionRights\"))+\":\")]),_c('div',{style:(_vm.roleStyle('MedicTester'))},[_c('b-form-checkbox',{attrs:{\"id\":\"MedicTester\"},model:{value:(_vm.roles.MedicTester),callback:function ($$v) {_vm.$set(_vm.roles, \"MedicTester\", $$v)},expression:\"roles.MedicTester\"}},[_vm._v(\" \"+_vm._s(_vm.role2Text(\"MedicTester\"))+\" \")])],1),_c('div',{style:(_vm.roleStyle('MedicLab'))},[_c('b-form-checkbox',{attrs:{\"id\":\"MedicLab\"},model:{value:(_vm.roles.MedicLab),callback:function ($$v) {_vm.$set(_vm.roles, \"MedicLab\", $$v)},expression:\"roles.MedicLab\"}},[_vm._v(\" \"+_vm._s(_vm.role2Text(\"MedicLab\"))+\" \")])],1),_c('div',{style:(_vm.roleStyle('DocumentManager'))},[_c('b-form-checkbox',{attrs:{\"id\":\"DocumentManager\"},model:{value:(_vm.roles.DocumentManager),callback:function ($$v) {_vm.$set(_vm.roles, \"DocumentManager\", $$v)},expression:\"roles.DocumentManager\"}},[_vm._v(\" \"+_vm._s(_vm.role2Text(\"DocumentManager\"))+\" \")])],1),_c('div',{style:(_vm.roleStyle('DataExporter'))},[_c('b-form-checkbox',{attrs:{\"id\":\"DataExporter\"},model:{value:(_vm.roles.DataExporter),callback:function ($$v) {_vm.$set(_vm.roles, \"DataExporter\", $$v)},expression:\"roles.DataExporter\"}},[_vm._v(\" \"+_vm._s(_vm.role2Text(\"DataExporter\"))+\" \")])],1),_c('div',{style:(_vm.roleStyle('Helper'))},[_c('b-form-checkbox',{attrs:{\"id\":\"Helper\"},model:{value:(_vm.roles.Helper),callback:function ($$v) {_vm.$set(_vm.roles, \"Helper\", $$v)},expression:\"roles.Helper\"}},[_vm._v(\" \"+_vm._s(_vm.role2Text(\"Helper\"))+\" \")])],1),_c('h2',[_vm._v(_vm._s(_vm.$t(\"TimeAndPeopleSectionPeople\"))+\":\")]),(_vm.placePrivider)?_c('div',_vm._l((_vm.placePrivider.users),function(user){return _c('div',{key:user.invitationId},[_c('b-form-checkbox',{model:{value:(_vm.selectedUsers[user.email]),callback:function ($$v) {_vm.$set(_vm.selectedUsers, user.email, $$v)},expression:\"selectedUsers[user.email]\"}},[_vm._v(\" \"+_vm._s(user.name)+\" [\"),_c('b',[_vm._v(_vm._s(_vm.name2shortcut(user.name)))]),_vm._v(\"] \")])],1)}),0):_vm._e()]),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('FullCalendar',{ref:\"calendar\",attrs:{\"id\":\"calendar\",\"options\":_vm.calendarOptions}})],1)],1)],1),_c('b-tab',{attrs:{\"title\":\"Pozvať užívateľa\"}},[_c('b-row',{staticClass:\"my-2\"},[_c('b-col',{attrs:{\"md\":\"10\",\"offset-md\":\"2\"}},[_c('h2',[_vm._v(\"Odoslať pozvánku\")])])],1),_c('b-row',{staticClass:\"my-2\"},[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Meno\")])]),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-input',{ref:\"name\",attrs:{\"id\":\"name\"},model:{value:(_vm.person.name),callback:function ($$v) {_vm.$set(_vm.person, \"name\", $$v)},expression:\"person.name\"}})],1)],1),_c('b-row',{staticClass:\"my-2\"},[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")])]),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-input',{ref:\"email\",attrs:{\"id\":\"email\",\"type\":\"email\"},model:{value:(_vm.person.email),callback:function ($$v) {_vm.$set(_vm.person, \"email\", $$v)},expression:\"person.email\"}})],1)],1),_c('b-row',{staticClass:\"my-2\"},[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"phone\"}},[_vm._v(\"Mobil\")])]),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-input',{ref:\"phone\",attrs:{\"id\":\"phone\"},model:{value:(_vm.person.phone),callback:function ($$v) {_vm.$set(_vm.person, \"phone\", $$v)},expression:\"person.phone\"}})],1)],1),_c('b-row',{staticClass:\"my-2\"},[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('label',{attrs:{\"for\":\"message\"}},[_vm._v(\"Text pozvánky\")])]),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-input',{ref:\"message\",attrs:{\"id\":\"message\"},model:{value:(_vm.person.message),callback:function ($$v) {_vm.$set(_vm.person, \"message\", $$v)},expression:\"person.message\"}})],1)],1),_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{attrs:{\"offset-md\":\"2\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":_vm.sendingInvitation},on:{\"click\":_vm.inviteUserClick}},[_vm._v(\" Pozvať \")])])],1),_c('h2',[_vm._v(\"Odoslané pozvánky\")]),_c('b-table',{attrs:{\"items\":_vm.dataInvitations,\"fields\":_vm.fieldsInvitations,\"sortBy\":\"invitationTime\",\"sortDesc\":true},scopedSlots:_vm._u([{key:\"cell(invitationTime)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatDateTime\")(row.item.invitationTime))+\" \")]}},{key:\"cell(status)\",fn:function(row){return [(row.item.status === 'invited')?_c('span',[_vm._v(\" Čaká sa na potvrdenie \")]):(row.item.status === 'declined')?_c('span',[_vm._v(\" Pozvánka bola zamietnutá \")]):(row.item.status === 'accepted')?_c('span',[_vm._v(\" Pozvánka bola prijatá \")]):_c('span',[_vm._v(\" \"+_vm._s(row.item.status)+\" \")])]}},{key:\"cell(actions)\",fn:function(row){return [_c('button',{staticClass:\"btn btn-primary m-2\",on:{\"click\":function($event){return _vm.deleteInvitationClick(row)}}},[_vm._v(\" Zrušiť \")])]}}])})],1)],1)],1),(_vm.eventinfo && _vm.eventinfo.event && _vm.eventinfo.event.start)?_c('b-modal',{attrs:{\"title\":\"Prehľad osoby na odbernom mieste\",\"ok-title\":\"Odobrať oprávnenia\",\"cancel-title\":\"Zrušiť\"},on:{\"ok\":function($event){return _vm.unassignClick(_vm.eventinfo.event)}},model:{value:(_vm.modalEditShow),callback:function ($$v) {_vm.modalEditShow=$$v},expression:\"modalEditShow\"}},[_c('h4',[_vm._v(_vm._s(_vm.getUser(_vm.eventinfo.event.extendedProps.user).name))]),_c('div',{style:(_vm.roleStyle(_vm.eventinfo.event.extendedProps.role))},[_vm._v(\" \"+_vm._s(_vm.role2Text(_vm.eventinfo.event.extendedProps.role))+\" \")]),_c('div',[_vm._v(\"Email: \"+_vm._s(_vm.getUser(_vm.eventinfo.event.extendedProps.user).email))]),_c('div',[_vm._v(\" Skratka: \"+_vm._s(_vm.name2shortcut(_vm.getUser(_vm.eventinfo.event.extendedProps.user).name))+\" \")]),_c('div',[_vm._v(\" Alokovaný pre čas: \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.eventinfo.event.start))+\" - \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.eventinfo.event.end))+\" \")])]):_vm._e(),_c('b-modal',{attrs:{\"title\":\"Pridať osobu na odberové miesto\",\"ok-title\":\"Priradiť\",\"cancel-title\":\"Zrušiť\"},on:{\"ok\":_vm.assignClick},model:{value:(_vm.modalSetupShow),callback:function ($$v) {_vm.modalSetupShow=$$v},expression:\"modalSetupShow\"}},[(this.place === '')?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\" Vyberte si odberové miesto \")]):_c('div',[_c('h4',[_vm._v(\"Odberové miesto\")]),_c('p',[_vm._v(_vm._s(this.placeObj.name))])]),(_vm.roleNotSelected())?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\" Vyberte si rolu/oprávnenia \")]):_vm._e(),_vm._l((this.roles),function(tr,role){return _c('div',{key:role},[(tr)?_c('div',[_c('div',{style:(_vm.roleStyle(role))},[_vm._v(\" \"+_vm._s(_vm.role2Text(role))+\" \")])]):_vm._e()])}),(_vm.userNotSelected())?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\" Vyberte si užívateľa \")]):_vm._e(),_vm._l((this.selectedUsers),function(tr,email){return _c('div',{key:email},[(tr)?_c('div',[_c('h4',[_vm._v(_vm._s(_vm.getUser(email).name))]),_c('div',[_vm._v(\"Email: \"+_vm._s(email))]),_c('div',[_vm._v(\" Skratka: \"+_vm._s(_vm.name2shortcut(_vm.getUser(email).name))+\" \")])]):_vm._e()])}),_c('h4',[_vm._v(\"Časová alokácia\")]),(_vm.fullDayMode)?_c('div',[_vm._v(\" Alokácia na celý pracovný deň \"),_c('div',[_vm._v(\" Pre dátumy Od \"+_vm._s(_vm._f(\"formatDate\")(_vm.fromDate))+\" Do \"+_vm._s(_vm._f(\"formatDate\")(_vm.untilDateMinusOneDay))+\" večer \")])]):_c('div',[_vm._v(\" Denne Od \"+_vm._s(_vm.displayHoursFrom())+\":00 Do \"+_vm._s(_vm.displayHoursUntil())+\":00 \"),_c('div',[_vm._v(\" Pre dátumy Od \"+_vm._s(_vm._f(\"formatDate\")(_vm.fromDate))+\" Do \"+_vm._s(_vm._f(\"formatDate\")(_vm.untilDate))+\" \")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"app-pane-lgray py-2\">\n      <b-container fluid>\n        <b-row>\n          <b-col md=\"7\">\n            <h1>\n              {{ $t(\"formAdminHRTitle\") }}:\n              <span v-if=\"placePrivider\">{{ placePrivider.companyName }}</span>\n            </h1>\n          </b-col>\n          <b-col md=\"5\" v-if=\"tabIndex === 0\">\n            <b-form-select\n              v-model=\"place\"\n              :options=\"places\"\n              text-field=\"name\"\n              value-field=\"id\"\n              class=\"mt-2\"\n              :class=\"this.place === '' ? 'border-danger' : ''\"\n            >\n              <b-form-select-option disabled value=\"\"\n                >Vyberte si miesto pre alokovanie osôb na odberové\n                miesta</b-form-select-option\n              >\n            </b-form-select>\n          </b-col>\n        </b-row>\n      </b-container>\n    </div>\n\n    <b-container class=\"my-4\" fluid>\n      <b-tabs card v-model=\"tabIndex\">\n        <b-tab title=\"Správa užívateľov na odberných miestach\">\n          <b-row>\n            <b-col md=\"2\">\n              <h2>{{ $t(\"TimeAndPeopleSectionRights\") }}:</h2>\n              <div :style=\"roleStyle('MedicTester')\">\n                <b-form-checkbox v-model=\"roles.MedicTester\" id=\"MedicTester\">\n                  {{ role2Text(\"MedicTester\") }}\n                </b-form-checkbox>\n              </div>\n              <div :style=\"roleStyle('MedicLab')\">\n                <b-form-checkbox v-model=\"roles.MedicLab\" id=\"MedicLab\">\n                  {{ role2Text(\"MedicLab\") }}\n                </b-form-checkbox>\n              </div>\n              <div :style=\"roleStyle('DocumentManager')\">\n                <b-form-checkbox\n                  v-model=\"roles.DocumentManager\"\n                  id=\"DocumentManager\"\n                >\n                  {{ role2Text(\"DocumentManager\") }}\n                </b-form-checkbox>\n              </div>\n              <div :style=\"roleStyle('DataExporter')\">\n                <b-form-checkbox v-model=\"roles.DataExporter\" id=\"DataExporter\">\n                  {{ role2Text(\"DataExporter\") }}\n                </b-form-checkbox>\n              </div>\n              <div :style=\"roleStyle('Helper')\">\n                <b-form-checkbox v-model=\"roles.Helper\" id=\"Helper\">\n                  {{ role2Text(\"Helper\") }}\n                </b-form-checkbox>\n              </div>\n\n              <h2>{{ $t(\"TimeAndPeopleSectionPeople\") }}:</h2>\n\n              <div v-if=\"placePrivider\">\n                <div\n                  v-for=\"user in placePrivider.users\"\n                  :key=\"user.invitationId\"\n                >\n                  <b-form-checkbox v-model=\"selectedUsers[user.email]\">\n                    {{ user.name }} [<b>{{ name2shortcut(user.name) }}</b\n                    >]\n                  </b-form-checkbox>\n                </div>\n              </div>\n            </b-col>\n            <b-col md=\"10\">\n              <FullCalendar\n                ref=\"calendar\"\n                id=\"calendar\"\n                :options=\"calendarOptions\"\n              />\n            </b-col>\n          </b-row>\n        </b-tab>\n        <b-tab title=\"Pozvať užívateľa\">\n          <b-row class=\"my-2\">\n            <b-col md=\"10\" offset-md=\"2\">\n              <h2>Odoslať pozvánku</h2>\n            </b-col>\n          </b-row>\n          <b-row class=\"my-2\">\n            <b-col md=\"2\">\n              <label for=\"name\">Meno</label>\n            </b-col>\n            <b-col md=\"10\">\n              <b-input v-model=\"person.name\" ref=\"name\" id=\"name\" />\n            </b-col>\n          </b-row>\n          <b-row class=\"my-2\">\n            <b-col md=\"2\">\n              <label for=\"email\">Email</label>\n            </b-col>\n            <b-col md=\"10\">\n              <b-input\n                v-model=\"person.email\"\n                ref=\"email\"\n                id=\"email\"\n                type=\"email\"\n              />\n            </b-col>\n          </b-row>\n          <b-row class=\"my-2\">\n            <b-col md=\"2\">\n              <label for=\"phone\">Mobil</label>\n            </b-col>\n            <b-col md=\"10\">\n              <b-input v-model=\"person.phone\" ref=\"phone\" id=\"phone\" />\n            </b-col>\n          </b-row>\n          <b-row class=\"my-2\">\n            <b-col md=\"2\">\n              <label for=\"message\">Text pozvánky</label>\n            </b-col>\n            <b-col md=\"10\">\n              <b-input v-model=\"person.message\" ref=\"message\" id=\"message\" />\n            </b-col>\n          </b-row>\n          <b-row class=\"mb-2\">\n            <b-col offset-md=\"2\">\n              <button\n                :disabled=\"sendingInvitation\"\n                @click=\"inviteUserClick\"\n                class=\"btn btn-primary\"\n              >\n                Pozvať\n              </button>\n            </b-col>\n          </b-row>\n\n          <h2>Odoslané pozvánky</h2>\n          <b-table\n            :items=\"dataInvitations\"\n            :fields=\"fieldsInvitations\"\n            sortBy=\"invitationTime\"\n            :sortDesc=\"true\"\n          >\n            <template #cell(invitationTime)=\"row\">\n              {{ row.item.invitationTime | formatDateTime }}\n            </template>\n            <template #cell(status)=\"row\">\n              <span v-if=\"row.item.status === 'invited'\">\n                Čaká sa na potvrdenie\n              </span>\n              <span v-else-if=\"row.item.status === 'declined'\">\n                Pozvánka bola zamietnutá\n              </span>\n              <span v-else-if=\"row.item.status === 'accepted'\">\n                Pozvánka bola prijatá\n              </span>\n              <span v-else>\n                {{ row.item.status }}\n              </span>\n            </template>\n            <template #cell(actions)=\"row\">\n              <button\n                @click=\"deleteInvitationClick(row)\"\n                class=\"btn btn-primary m-2\"\n              >\n                Zrušiť\n              </button>\n            </template>\n          </b-table>\n        </b-tab>\n      </b-tabs>\n    </b-container>\n    <b-modal\n      title=\"Prehľad osoby na odbernom mieste\"\n      v-if=\"eventinfo && eventinfo.event && eventinfo.event.start\"\n      v-model=\"modalEditShow\"\n      ok-title=\"Odobrať oprávnenia\"\n      cancel-title=\"Zrušiť\"\n      @ok=\"unassignClick(eventinfo.event)\"\n    >\n      <h4>{{ getUser(eventinfo.event.extendedProps.user).name }}</h4>\n      <div :style=\"roleStyle(eventinfo.event.extendedProps.role)\">\n        {{ role2Text(eventinfo.event.extendedProps.role) }}\n      </div>\n      <div>Email: {{ getUser(eventinfo.event.extendedProps.user).email }}</div>\n      <div>\n        Skratka:\n        {{ name2shortcut(getUser(eventinfo.event.extendedProps.user).name) }}\n      </div>\n      <div>\n        Alokovaný pre čas: {{ eventinfo.event.start | formatDateTime }} -\n        {{ eventinfo.event.end | formatDateTime }}\n      </div>\n    </b-modal>\n    <b-modal\n      title=\"Pridať osobu na odberové miesto\"\n      v-model=\"modalSetupShow\"\n      ok-title=\"Priradiť\"\n      cancel-title=\"Zrušiť\"\n      @ok=\"assignClick\"\n    >\n      <div class=\"alert alert-danger\" v-if=\"this.place === ''\">\n        Vyberte si odberové miesto\n      </div>\n      <div v-else>\n        <h4>Odberové miesto</h4>\n        <p>{{ this.placeObj.name }}</p>\n      </div>\n      <div class=\"alert alert-danger\" v-if=\"roleNotSelected()\">\n        Vyberte si rolu/oprávnenia\n      </div>\n      <div v-for=\"(tr, role) in this.roles\" :key=\"role\">\n        <div v-if=\"tr\">\n          <div :style=\"roleStyle(role)\">\n            {{ role2Text(role) }}\n          </div>\n        </div>\n      </div>\n      <div class=\"alert alert-danger\" v-if=\"userNotSelected()\">\n        Vyberte si užívateľa\n      </div>\n\n      <div v-for=\"(tr, email) in this.selectedUsers\" :key=\"email\">\n        <div v-if=\"tr\">\n          <h4>{{ getUser(email).name }}</h4>\n          <div>Email: {{ email }}</div>\n          <div>\n            Skratka:\n            {{ name2shortcut(getUser(email).name) }}\n          </div>\n        </div>\n      </div>\n\n      <h4>Časová alokácia</h4>\n      <div v-if=\"fullDayMode\">\n        Alokácia na celý pracovný deň\n        <div>\n          Pre dátumy Od {{ fromDate | formatDate }} Do\n          {{ untilDateMinusOneDay | formatDate }} večer\n        </div>\n      </div>\n      <div v-else>\n        Denne Od {{ displayHoursFrom() }}:00 Do {{ displayHoursUntil() }}:00\n        <div>\n          Pre dátumy Od {{ fromDate | formatDate }} Do\n          {{ untilDate | formatDate }}\n        </div>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport FullCalendar from \"@fullcalendar/vue\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport skLocale from \"@fullcalendar/core/locales/sk\";\n\nexport default {\n  components: {\n    FullCalendar,\n  },\n  data() {\n    return {\n      modalEditShow: false,\n      modalSetupShow: false,\n      eventinfo: {},\n      selectedUsers: {},\n      sendingInvitation: false,\n      dataInvitations: [],\n      allocations: [],\n      fromDate: new Date().toISOString(),\n      untilDate: new Date().toISOString(),\n      roles: {\n        DocumentManager: false,\n        MedicLab: false,\n        DataExporter: false,\n        Helper: false,\n        MedicTester: false,\n      },\n      revision: false,\n      place: \"\",\n      data: [],\n      tabIndex: -1,\n      person: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        message: \"\",\n      },\n      fields: [\n        {\n          label: \"Meno\",\n          key: \"name\",\n          sortable: true,\n        },\n        {\n          label: \"Email\",\n          key: \"email\",\n          sortable: true,\n        },\n        {\n          label: \"Akcie\",\n          key: \"actions\",\n          sortable: false,\n        },\n      ],\n      fieldsInvitations: [\n        {\n          label: \"Meno\",\n          key: \"name\",\n          sortable: true,\n        },\n        {\n          label: \"Email\",\n          key: \"email\",\n          sortable: true,\n        },\n        {\n          label: \"Pozvaný osobou\",\n          key: \"inviterName\",\n          sortable: true,\n        },\n        {\n          label: \"Čas pozvánky\",\n          key: \"invitationTime\",\n          sortable: true,\n        },\n        {\n          label: \"Stav pozvánky\",\n          key: \"status\",\n          sortable: true,\n        },\n        {\n          label: \"Akcie\",\n          key: \"actions\",\n          sortable: false,\n        },\n      ],\n      calendarOptions: {\n        locale: skLocale,\n        headerToolbar: {\n          start: \"dayGridWeek,dayGridMonth timeGridWeek,timeGridDay\",\n          center: \"title\",\n          end: \"today prev,next\",\n        },\n        initialView: \"timeGridWeek\",\n        plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n        selectable: true,\n        eventClick: this.eventClick,\n        select: this.select,\n        selectAllow: this.selectAllow,\n        eventRender: this.eventRender,\n        contentHeight: 500,\n        slotDuration: \"01:00:00\",\n        displayEventTime: false,\n        firstDay: 1, // from monday\n        eventDisplay: \"block\",\n        /*\n        businessHours: [\n          // specify an array instead\n          {\n            daysOfWeek: [1, 2, 3], // Monday, Tuesday, Wednesday\n            startTime: \"08:00\", // 8am\n            endTime: \"18:00\", // 6pm\n          },\n          {\n            daysOfWeek: [4, 5], // Thursday, Friday\n            startTime: \"10:00\", // 10am\n            endTime: \"16:00\", // 4pm\n          },\n        ],*/\n\n        //hiddenDays: [2, 3],\n        events: [],\n      },\n      events: [],\n      selection: {\n        title: \"Title\",\n        allDay: true,\n      },\n    };\n  },\n  computed: {\n    placePrivider() {\n      if (!this.$store.state.placeProvider.places) return {};\n      return this.$store.state.placeProvider.places.find(\n        p => p.placeProviderId === this.pp\n      );\n    },\n    pp() {\n      if (!this.$store.state) return \"\";\n      return this.$store.state.user.tokenData.pp;\n    },\n    placeObj() {\n      if (!this.$store.state.place.places) return {};\n      return this.$store.state.place.places[this.place];\n    },\n    canAssign() {\n      var hasRole =\n        this.roles.MedicTester ||\n        this.roles.DocumentManager ||\n        this.roles.MedicLab ||\n        this.roles.DataExporter ||\n        this.roles.Helper;\n      if (!hasRole) return false;\n      for (let index in this.selectedUsers) {\n        if (this.selectedUsers[index]) return true;\n      }\n      return false;\n    },\n    fullDayMode() {\n      return this.displayHoursFrom() == this.displayHoursUntil();\n    },\n    untilDateMinusOneDay() {\n      const day = new Date(this.untilDate);\n      return day.setDate(day.getDate() - 1);\n    },\n\n    places() {\n      function compare(a, b) {\n        if (a.name < b.name) return -1;\n        if (a.name > b.name) return 1;\n        return 0;\n      }\n      return Object.values(this.$store.state.place.places).sort(compare);\n    },\n  },\n\n  watch: {\n    pp() {\n      this.ListPPInvites({\n        placeProviderId: this.pp,\n      });\n    },\n    placePrivider() {\n      console.log(\"placePrivider\", this.placePrivider);\n    },\n    tabIndex() {\n      if (this.$refs.calendar) {\n        this.$nextTick(() => {\n          const calendarApi = this.$refs.calendar.getApi();\n          calendarApi.next();\n          calendarApi.prev();\n        });\n      }\n    },\n    place() {\n      console.log(\"place\", this.place);\n      this.ListPlaceAllocations({ placeId: this.place }).then(r2 => {\n        this.allocations = r2;\n        console.log(\"this.allocations2\", this.allocations);\n        this.redrawEvents(r2);\n      });\n      this.ListScheduledDays({\n        placeId: this.place,\n      }).then(r => {\n        if (r) {\n          this.processScheduledDays();\n        }\n      });\n    },\n    allPlaces() {\n      this.ListScheduledDays({\n        placeId: this.place,\n      }).then(r => {\n        if (r) {\n          this.processScheduledDays();\n        }\n      });\n    },\n    fromDate() {},\n    untilDate() {},\n  },\n  mounted() {\n    this.ListPrivate().then(r => {\n      if (r) {\n        this.ListPlaceAllocations({ placeId: this.place }).then(r2 => {\n          this.allocations = r2;\n          this.redrawEvents(r2);\n          console.log(\"this.allocations1\", this.allocations);\n        });\n      }\n    });\n    this.ReloadPlaces();\n    this.ListPPInvites({\n      placeProviderId: this.pp,\n    }).then(r => {\n      if (r) {\n        this.dataInvitations = r;\n      }\n    });\n    this.tabIndex = 0;\n  },\n  methods: {\n    ...mapActions({\n      ListPrivate: \"placeProvider/ListPrivate\",\n      InviteUser: \"user/InviteUser\",\n      ListPPInvites: \"user/ListPPInvites\",\n      InviteUserToPP: \"placeProvider/InviteUserToPP\",\n      ListPlaceAllocations: \"placeProvider/ListPlaceAllocations\",\n      RemoveAllocationAtPlace: \"placeProvider/RemoveAllocationAtPlace\",\n      AllocatePersonsToPlace: \"placeProvider/AllocatePersonsToPlace\",\n      LoadUsers: \"user/LoadUsers\",\n      RemoveUser: \"user/RemoveUser\",\n      ListScheduledDays: \"place/ListScheduledDays\",\n      ReloadPlaces: \"place/ReloadPrivatePlaces\",\n    }),\n    ...mapActions({\n      openSuccess: \"snackbar/openSuccess\",\n    }),\n    redrawEvents(allocations) {\n      this.calendarOptions.events = [];\n      for (let index in allocations) {\n        const usr = this.getUser(allocations[index].user);\n        console.log(\"allocations[index]\", allocations[index], usr);\n        let name = allocations[index].user;\n        if (usr && usr.name) name = usr.name;\n        const title = this.name2shortcut(name);\n        allocations[index].title = title;\n        let color = this.roleColor(allocations[index].role);\n        allocations[index].backgroundColor = color;\n        this.calendarOptions.events.push(allocations[index]);\n      }\n    },\n    processScheduledDays() {\n      this.events = [];\n      this.actions = {};\n    },\n    eventClick: function (info) {\n      this.eventinfo = info;\n      this.modalEditShow = true;\n    },\n    select: function (info) {\n      this.fromDate = info.startStr;\n      this.untilDate = info.endStr;\n      this.modalSetupShow = true;\n    },\n    displayHoursFrom() {\n      return new Date(this.fromDate).getHours();\n    },\n    displayHoursUntil() {\n      return new Date(this.untilDate).getHours();\n    },\n    selectAllow: function (info) {\n      console.log(\"info\", info, new Date() < info.start);\n      const currDate = new Date();\n      const date = currDate.setDate(currDate.getDate() - 1);\n\n      if (date > info.start) return false;\n      return true;\n\n      // return true;\n    },\n    formatRoles(data) {\n      return data.item.roles.join(\", \");\n    },\n    deleteUserClick(row) {\n      if (confirm(\"Naozaj chcete vymazať užívateľa?\")) {\n        this.RemoveUser({ email: row.item.email }).then(r => {\n          if (r) {\n            this.LoadUsers().then(r => {\n              if (r) {\n                this.data = Object.values(r);\n              }\n            });\n          }\n        });\n      }\n    },\n    deleteInvitationClick(row) {\n      if (confirm(\"Naozaj chcete zrušiť pozvánku?\")) {\n        console.log(\"todo\");\n      }\n    },\n    inviteUserClick() {\n      this.sendingInvitation = true;\n      this.InviteUserToPP(this.person).then(r => {\n        this.sendingInvitation = false;\n        if (r) {\n          this.openSuccess(\"Užívateľ pozvaný\");\n          this.email = \"\";\n          this.name = \"\";\n          this.phone = \"\";\n\n          this.ListPPInvites({\n            placeProviderId: this.pp,\n          }).then(r => {\n            if (r) {\n              this.dataInvitations = r;\n            }\n          });\n        }\n      });\n    },\n    eventRender: function (event, element) {\n      console.log(\"eventRender\", event);\n      element\n        .find(\"span.fc-event-title\")\n        .html(element.find(\"span.fc-event-title\").text());\n    },\n    unassignClick(event) {\n      if (confirm(\"Naozaj chcete odobrať tieto oprávnenia?\")) {\n        console.log(\"event\", event);\n        this.RemoveAllocationAtPlace({\n          allocationId: event.id,\n          placeId: this.place,\n        }).then(r => {\n          if (r) {\n            this.ListPlaceAllocations({ placeId: this.place }).then(r2 => {\n              console.log(\"this.allocations4\", this.allocations);\n              this.allocations = r2;\n              this.redrawEvents(r2);\n            });\n          }\n        });\n      }\n    },\n    assignClick() {\n      console.log(\"this.selectedUsers\", this.selectedUsers);\n\n      for (let role in this.roles) {\n        if (!this.roles[role]) continue;\n        for (let user in this.selectedUsers) {\n          if (!this.selectedUsers[user]) continue;\n          console.log(\"selectedUsers\", role, user);\n          const from = new Date(this.fromDate);\n          const until = new Date(this.untilDate);\n          from.setHours(12, 0, 0, 0);\n          until.setHours(12, 0, 0, 0);\n          if (this.fullDayMode) {\n            until.setDate(until.getDate() - 1);\n          }\n          for (\n            var d = new Date(from);\n            d <= new Date(until);\n            d.setDate(d.getDate() + 1)\n          ) {\n            const dateObj = new Date(d);\n            if (this.fullDayMode) {\n              dateObj.setHours(0, 0, 0, 0);\n            } else {\n              dateObj.setHours(new Date(this.fromDate).getHours(), 0, 0, 0);\n            }\n            const date = dateObj.toISOString();\n            if (this.fullDayMode) {\n              dateObj.setHours(24, 0, 0, 0);\n            } else {\n              dateObj.setHours(new Date(this.untilDate).getHours(), 0, 0, 0);\n            }\n            const date2 = dateObj.toISOString();\n            let color = this.roleColor(role);\n            const usr = this.getUser(user);\n            let name = usr.name;\n            if (!name) name = user;\n            const title = this.name2shortcut(name);\n            this.events.push({\n              title: title,\n              start: date,\n              end: date2,\n              backgroundColor: color,\n              user: user,\n              role: role,\n            });\n          }\n        }\n      }\n      if (this.place && this.events.length > 0) {\n        this.AllocatePersonsToPlace({\n          allocations: this.events,\n          placeId: this.place,\n        }).then(r => {\n          if (r) {\n            this.ListPlaceAllocations({ placeId: this.place }).then(r2 => {\n              console.log(\"this.allocations1\", this.allocations);\n              this.allocations = r2;\n              this.redrawEvents(r2);\n              this.events = [];\n            });\n          }\n        });\n      }\n    },\n    roleStyle(role) {\n      const color = this.roleColor(role);\n      return `background: ${color}; color: white; border-radius: 3px; margin-bottom: 5px; padding: 2px 5px; font-weight:bold; `;\n    },\n    getBackground(role) {\n      return this.roleColor(role);\n    },\n    roleColor(role) {\n      if (!role) return \"black\";\n      switch (role) {\n        case \"Helper\":\n          return \"#666\";\n        case \"MedicTester\":\n          return \"green\";\n        case \"MedicLab\":\n          return \"blue\";\n        case \"DocumentManager\":\n          return \"darkorange\";\n        case \"DataExporter\":\n          return \"purple\";\n      }\n      return \"red\";\n    },\n    role2Text(role) {\n      console.log(\"role2Text.role\", role);\n      if (!role) return \"?\";\n      switch (role) {\n        case \"Helper\":\n          return \"Pomocník\";\n        case \"MedicTester\":\n          return \"Doktor pri odbere\";\n        case \"MedicLab\":\n          return \"Doktor v laboratóriu\";\n        case \"DocumentManager\":\n          return \"Správca certifikátov\";\n        case \"DataExporter\":\n          return \"Exporter údajov pre hygienu\";\n      }\n      return \"red\";\n    },\n    name2shortcut(name) {\n      if (!name) {\n        return \"???\";\n      }\n      const split = name.trim().split(\" \");\n\n      if (split.length == 1) {\n        if (name.length <= 3) {\n          return name.toUpperCase();\n        } else {\n          return name.substring(0, 3).toUpperCase();\n        }\n      } else {\n        if (split[0].length >= 1 && split[split.length - 1].length >= 2) {\n          return (\n            split[0].substring(0, 1) + split[split.length - 1].substring(0, 2)\n          ).toUpperCase();\n        } else {\n          return (\n            (\n              split[0].substring(0, 1) + split[split.length - 1].substring(0, 1)\n            ).toUpperCase() + \"?\"\n          );\n        }\n      }\n    },\n    getUser(email) {\n      return this.placePrivider.users.find(u => u.email == email);\n    },\n    userNotSelected() {\n      for (let user in this.selectedUsers) {\n        if (!this.selectedUsers[user]) continue;\n        return false;\n      }\n      return true;\n    },\n    roleNotSelected() {\n      for (let role in this.roles) {\n        if (!this.roles[role]) continue;\n        return false;\n      }\n      return true;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=05dcb59c&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}