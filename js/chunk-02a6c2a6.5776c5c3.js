(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02a6c2a6"],{1599:function(e,t,o){},c243e:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"app-pane-lgray py-2"},[o("b-container",{attrs:{fluid:""}},[o("b-row",[o("b-col",{attrs:{md:"7"}},[o("h1",[e._v(" "+e._s(e.$t("formAdminHRTitle"))+": "),e.placePrivider?o("span",[e._v(e._s(e.placePrivider.companyName))]):e._e()])]),0===e.tabIndex?o("b-col",{attrs:{md:"5"}},[o("b-form-select",{staticClass:"mt-2",class:""===this.place?"border-danger":"",attrs:{options:Object.values(e.$store.state.place.places),"text-field":"name","value-field":"id"},model:{value:e.place,callback:function(t){e.place=t},expression:"place"}},[o("b-form-select-option",{attrs:{disabled:"",value:""}},[e._v("Vyberte si miesto pre alokovanie osôb na odberné miesta")])],1)],1):e._e()],1)],1)],1),o("b-container",{staticClass:"my-4",attrs:{fluid:""}},[o("b-tabs",{attrs:{card:""},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[o("b-tab",{attrs:{title:"Správa užívateľov na odberných miestach"}},[o("b-row",[o("b-col",{attrs:{md:"2"}},[o("h2",[e._v(e._s(e.$t("TimeAndPeopleSectionRights"))+": ")]),o("div",{style:e.roleStyle("MedicTester")},[o("b-form-checkbox",{attrs:{id:"MedicTester"},model:{value:e.roles.MedicTester,callback:function(t){e.$set(e.roles,"MedicTester",t)},expression:"roles.MedicTester"}},[e._v(" "+e._s(e.role2Text("MedicTester"))+" ")])],1),o("div",{style:e.roleStyle("MedicLab")},[o("b-form-checkbox",{attrs:{id:"MedicLab"},model:{value:e.roles.MedicLab,callback:function(t){e.$set(e.roles,"MedicLab",t)},expression:"roles.MedicLab"}},[e._v(" "+e._s(e.role2Text("MedicLab"))+" ")])],1),o("div",{style:e.roleStyle("DocumentManager")},[o("b-form-checkbox",{attrs:{id:"DocumentManager"},model:{value:e.roles.DocumentManager,callback:function(t){e.$set(e.roles,"DocumentManager",t)},expression:"roles.DocumentManager"}},[e._v(" "+e._s(e.role2Text("DocumentManager"))+" ")])],1),o("div",{style:e.roleStyle("DataExporter")},[o("b-form-checkbox",{attrs:{id:"DataExporter"},model:{value:e.roles.DataExporter,callback:function(t){e.$set(e.roles,"DataExporter",t)},expression:"roles.DataExporter"}},[e._v(" "+e._s(e.role2Text("DataExporter"))+" ")])],1),o("div",{style:e.roleStyle("Helper")},[o("b-form-checkbox",{attrs:{id:"Helper"},model:{value:e.roles.Helper,callback:function(t){e.$set(e.roles,"Helper",t)},expression:"roles.Helper"}},[e._v(" "+e._s(e.role2Text("Helper"))+" ")])],1),o("h2",[e._v(e._s(e.$t("TimeAndPeopleSectionPeople"))+":")]),e.placePrivider?o("div",e._l(e.placePrivider.users,(function(t){return o("div",{key:t.invitationId},[o("b-form-checkbox",{model:{value:e.selectedUsers[t.email],callback:function(o){e.$set(e.selectedUsers,t.email,o)},expression:"selectedUsers[user.email]"}},[e._v(" "+e._s(t.name)+" ["),o("b",[e._v(e._s(e.name2shortcut(t.name)))]),e._v("] ")])],1)})),0):e._e()]),o("b-col",{attrs:{md:"10"}},[o("FullCalendar",{ref:"calendar",attrs:{id:"calendar",options:e.calendarOptions}})],1)],1)],1),o("b-tab",{attrs:{title:"Prehľad užívateľov"}},[o("b-table",{attrs:{items:e.data,fields:e.fields},scopedSlots:e._u([{key:"cell(id)",fn:function(t){return[o("button",{staticClass:"btn btn-primary m-2",on:{click:function(o){return e.editPlaceClick(t)}}},[e._v(" Edit ")]),o("button",{staticClass:"btn btn-primary m-2",on:{click:function(o){return e.deletePlaceClick(t)}}},[e._v(" Delete ")])]}},{key:"cell(role)",fn:function(t){return[e._v(" "+e._s(e.formatRoles(t))+" ")]}},{key:"cell(actions)",fn:function(t){return[o("button",{staticClass:"btn btn-primary m-2",on:{click:function(o){return e.deleteUserClick(t)}}},[e._v(" Vymazať ")])]}}])})],1),o("b-tab",{attrs:{title:"Pozvať užívateľa"}},[o("b-row",{staticClass:"my-2"},[o("b-col",{attrs:{md:"10","offset-md":"2"}},[o("h2",[e._v("Odoslať pozvánku")])])],1),o("b-row",{staticClass:"my-2"},[o("b-col",{attrs:{md:"2"}},[o("label",{attrs:{for:"name"}},[e._v("Meno")])]),o("b-col",{attrs:{md:"10"}},[o("b-input",{ref:"name",attrs:{id:"name"},model:{value:e.person.name,callback:function(t){e.$set(e.person,"name",t)},expression:"person.name"}})],1)],1),o("b-row",{staticClass:"my-2"},[o("b-col",{attrs:{md:"2"}},[o("label",{attrs:{for:"email"}},[e._v("Email")])]),o("b-col",{attrs:{md:"10"}},[o("b-input",{ref:"email",attrs:{id:"email",type:"email"},model:{value:e.person.email,callback:function(t){e.$set(e.person,"email",t)},expression:"person.email"}})],1)],1),o("b-row",{staticClass:"my-2"},[o("b-col",{attrs:{md:"2"}},[o("label",{attrs:{for:"phone"}},[e._v("Mobil")])]),o("b-col",{attrs:{md:"10"}},[o("b-input",{ref:"phone",attrs:{id:"phone"},model:{value:e.person.phone,callback:function(t){e.$set(e.person,"phone",t)},expression:"person.phone"}})],1)],1),o("b-row",{staticClass:"my-2"},[o("b-col",{attrs:{md:"2"}},[o("label",{attrs:{for:"message"}},[e._v("Text pozvánky")])]),o("b-col",{attrs:{md:"10"}},[o("b-input",{ref:"message",attrs:{id:"message"},model:{value:e.person.message,callback:function(t){e.$set(e.person,"message",t)},expression:"person.message"}})],1)],1),o("b-row",{staticClass:"mb-2"},[o("b-col",{attrs:{"offset-md":"2"}},[o("button",{staticClass:"btn btn-primary",attrs:{disabled:e.sendingInvitation},on:{click:e.inviteUserClick}},[e._v(" Pozvať ")])])],1),o("h2",[e._v("Odoslané pozvánky")]),o("b-table",{attrs:{items:e.dataInvitations,fields:e.fieldsInvitations,sortBy:"invitationTime",sortDesc:!0},scopedSlots:e._u([{key:"cell(invitationTime)",fn:function(t){return[e._v(" "+e._s(e._f("formatDateTime")(t.item.invitationTime))+" ")]}},{key:"cell(status)",fn:function(t){return["invited"===t.item.status?o("span",[e._v(" Čaká sa na Vaše potvrdenie ")]):"declined"===t.item.status?o("span",[e._v(" Zamietli ste pozvánku ")]):"accepted"===t.item.status?o("span",[e._v(" Prijali ste pozvánku ")]):o("span",[e._v(" "+e._s(t.item.status)+" ")])]}},{key:"cell(actions)",fn:function(t){return[o("button",{staticClass:"btn btn-primary m-2",on:{click:function(o){return e.deleteInvitationClick(t)}}},[e._v(" Zrušiť ")])]}}])})],1)],1)],1),e.eventinfo&&e.eventinfo.event&&e.eventinfo.event.start?o("b-modal",{attrs:{title:"Prehľad osoby na odbernom mieste","ok-title":"Odobrať oprávnenia","cancel-title":"Zrušiť"},on:{ok:function(t){return e.unassignClick(e.eventinfo.event)}},model:{value:e.modalEditShow,callback:function(t){e.modalEditShow=t},expression:"modalEditShow"}},[o("h4",[e._v(e._s(e.getUser(e.eventinfo.event.extendedProps.user).name))]),o("div",{style:e.roleStyle(e.eventinfo.event.extendedProps.role)},[e._v(" "+e._s(e.role2Text(e.eventinfo.event.extendedProps.role))+" ")]),o("div",[e._v("Email: "+e._s(e.getUser(e.eventinfo.event.extendedProps.user).email))]),o("div",[e._v(" Skratka: "+e._s(e.name2shortcut(e.getUser(e.eventinfo.event.extendedProps.user).name))+" ")]),o("div",[e._v(" Alokovaný pre čas: "+e._s(e._f("formatDateTime")(e.eventinfo.event.start))+" - "+e._s(e._f("formatDateTime")(e.eventinfo.event.end))+" ")])]):e._e(),o("b-modal",{attrs:{title:"Pridať osobu na odberné miesto","ok-title":"Priradiť","cancel-title":"Zrušiť"},on:{ok:e.assignClick},model:{value:e.modalSetupShow,callback:function(t){e.modalSetupShow=t},expression:"modalSetupShow"}},[""===this.place?o("div",{staticClass:"alert alert-danger"},[e._v(" Vyberte si odberné miesto ")]):o("div",[o("h4",[e._v("Odberné miesto")]),o("p",[e._v(e._s(this.placeObj.name))])]),e.roleNotSelected()?o("div",{staticClass:"alert alert-danger"},[e._v(" Vyberte si rolu/oprávnenia ")]):e._e(),e._l(this.roles,(function(t,n){return o("div",{key:n},[t?o("div",[o("div",{style:e.roleStyle(n)},[e._v(" "+e._s(e.role2Text(n))+" ")])]):e._e()])})),e.userNotSelected()?o("div",{staticClass:"alert alert-danger"},[e._v(" Vyberte si užívateľa ")]):e._e(),e._l(this.selectedUsers,(function(t,n){return o("div",{key:n},[t?o("div",[o("h4",[e._v(e._s(e.getUser(n).name))]),o("div",[e._v("Email: "+e._s(n))]),o("div",[e._v(" Skratka: "+e._s(e.name2shortcut(e.getUser(n).name))+" ")])]):e._e()])})),o("h4",[e._v("Časová alokácia")]),e.fullDayMode?o("div",[e._v(" Alokácia na celý pracovný deň "),o("div",[e._v(" Pre dátumy Od "+e._s(e._f("formatDate")(e.fromDate))+" Do "+e._s(e._f("formatDate")(e.untilDateMinusOneDay))+" večer ")])]):o("div",[e._v(" Denne Od "+e._s(e.displayHoursFrom())+":00 Do "+e._s(e.displayHoursUntil())+":00 "),o("div",[e._v(" Pre dátumy Od "+e._s(e._f("formatDate")(e.fromDate))+" Do "+e._s(e._f("formatDate")(e.untilDate))+" ")])])],2)],1)},r=[],i=o("2f62"),s=o("f5ff"),a=o("3cdd"),l=(o("1599"),o("d610")),c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},c(e,t)};function d(e,t){function o(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var u=function(){return u=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)};Object.create;Object.create;
/*!
FullCalendar v5.5.0
Docs & License: https://fullcalendar.io/
(c) 2020 Adam Shaw
*/
var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?Object(l["Fb"])(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(l["F"]),f=Object(l["jb"])({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function b(e){var t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Object(l["gb"])(l["H"].Consumer,null,(function(o){if(!e.isLabeled)return Object(l["gb"])("td",{className:t.join(" "),"data-time":e.isoTimeStr});var n=o.dateEnv,r=o.options,i=o.viewApi,s=null==r.slotLabelFormat?f:Array.isArray(r.slotLabelFormat)?Object(l["jb"])(r.slotLabelFormat[0]):Object(l["jb"])(r.slotLabelFormat),a={level:0,time:e.time,date:n.toDate(e.date),view:i,text:n.format(e.date,s)};return Object(l["gb"])(l["B"],{hookProps:a,classNames:r.slotLabelClassNames,content:r.slotLabelContent,defaultContent:h,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},(function(o,n,r,i){return Object(l["gb"])("td",{ref:o,className:t.concat(n).join(" "),"data-time":e.isoTimeStr},Object(l["gb"])("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Object(l["gb"])("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:r},i)))}))}))}function h(e){return e.text}var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){return this.props.slatMetas.map((function(e){return Object(l["gb"])("tr",{key:e.key},Object(l["gb"])(b,u({},e)))}))},t}(l["b"]),m=Object(l["jb"])({week:"short"}),g=5,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allDaySplitter=new p,t.headerElRef=Object(l["lb"])(),t.rootElRef=Object(l["lb"])(),t.scrollerElRef=Object(l["lb"])(),t.state={slatCoords:null},t.handleScrollTopRequest=function(e){var o=t.scrollerElRef.current;o&&(o.scrollTop=e)},t.renderHeadAxis=function(e,o){void 0===o&&(o="");var n=t.context.options,r=t.props.dateProfile,i=r.renderRange,s=Object(l["nb"])(i.start,i.end),a=n.navLinks&&1===s?{"data-navlink":Object(l["W"])(i.start,"week"),tabIndex:0}:{};return n.weekNumbers&&"day"===e?Object(l["gb"])(l["J"],{date:i.start,defaultFormat:m},(function(e,t,n,r){return Object(l["gb"])("th",{ref:e,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(t).join(" ")},Object(l["gb"])("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:o}},Object(l["gb"])("a",u({ref:n,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},a),r)))})):Object(l["gb"])("th",{className:"fc-timegrid-axis"},Object(l["gb"])("div",{className:"fc-timegrid-axis-frame",style:{height:o}}))},t.renderTableRowAxis=function(e){var o=t.context,n=o.options,r=o.viewApi,i={text:n.allDayText,view:r};return Object(l["gb"])(l["B"],{hookProps:i,classNames:n.allDayClassNames,content:n.allDayContent,defaultContent:O,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},(function(t,o,n,r){return Object(l["gb"])("td",{ref:t,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(o).join(" ")},Object(l["gb"])("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==e?" fc-timegrid-axis-frame-liquid":""),style:{height:e}},Object(l["gb"])("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:n},r)))}))},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t}return d(t,e),t.prototype.renderSimpleLayout=function(e,t,o){var n=this,r=n.context,i=n.props,s=[],a=Object(l["Eb"])(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(s.push({type:"body",key:"all-day",chunk:{content:t}}),s.push({type:"body",key:"all-day-divider",outerContent:Object(l["gb"])("tr",{className:"fc-scrollgrid-section"},Object(l["gb"])("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:o}}),Object(l["gb"])(l["I"],{viewSpec:r.viewSpec,elRef:this.rootElRef},(function(e,t){return Object(l["gb"])("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},Object(l["gb"])(l["D"],{liquid:!i.isHeightAuto&&!i.forPrint,cols:[{width:"shrink"}],sections:s}))}))},t.prototype.renderHScrollLayout=function(e,t,o,n,r,i,s){var a=this,c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");var d=this,u=d.context,p=d.props,f=!p.forPrint&&Object(l["Eb"])(u.options),b=!p.forPrint&&Object(l["Db"])(u.options),h=[];e&&h.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return Object(l["gb"])("tr",null,a.renderHeadAxis("day",e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(h.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return Object(l["gb"])("tr",null,a.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),h.push({key:"all-day-divider",type:"body",outerContent:Object(l["gb"])("tr",{className:"fc-scrollgrid-section"},Object(l["gb"])("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));var m=u.options.nowIndicator;return h.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(u.options.expandRows),chunks:[{key:"axis",content:function(e){return Object(l["gb"])("div",{className:"fc-timegrid-axis-chunk"},Object(l["gb"])("table",{style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,Object(l["gb"])("tbody",null,Object(l["gb"])(v,{slatMetas:i}))),Object(l["gb"])("div",{className:"fc-timegrid-now-indicator-container"},Object(l["gb"])(l["y"],{unit:m?"minute":"day"},(function(e){var t=m&&s&&s.safeComputeTop(e);return"number"===typeof t?Object(l["gb"])(l["x"],{isAxis:!0,date:e},(function(e,o,n,r){return Object(l["gb"])("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(o).join(" "),style:{top:t}},r)})):null}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:o}]}),b&&h.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:l["dc"]},{key:"cols",content:l["dc"]}]}),Object(l["gb"])(l["I"],{viewSpec:u.viewSpec,elRef:this.rootElRef},(function(e,t){return Object(l["gb"])("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},Object(l["gb"])(c,{liquid:!p.isHeightAuto&&!p.forPrint,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:n,minWidth:r}]}],sections:h}))}))},t.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,o=e.dayMaxEventRows;return!0!==t&&!0!==o||(t=void 0,o=g),{dayMaxEvents:t,dayMaxEventRows:o}},t}(l["i"]);function O(e){return e.text}var S=function(){function e(e,t,o){this.positions=e,this.dateProfile=t,this.slatMetas=o}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(Object(l["Xb"])(t.currentRange,e)){var o=Object(l["gc"])(e),n=e.valueOf()-o.valueOf();if(n>=Object(l["T"])(t.slotMinTime)&&n<Object(l["T"])(t.slotMaxTime))return this.computeTimeTop(Object(l["fb"])(n))}return null},e.prototype.computeDateTop=function(e,t){return t||(t=Object(l["gc"])(e)),this.computeTimeTop(Object(l["fb"])(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,o,n=this,r=n.positions,i=n.dateProfile,s=n.slatMetas,a=r.els.length,c=s[1].date.valueOf()-s[0].date.valueOf(),d=(e.milliseconds-Object(l["T"])(i.slotMinTime))/c;return d=Math.max(0,d),d=Math.min(a,d),t=Math.floor(d),t=Math.min(t,a-1),o=d-t,r.tops[t]+r.getHeight(t)*o},e}(),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){var e=this,t=e.props,o=e.context,n=o.options,r=t.slatElRefs;return Object(l["gb"])("tbody",null,t.slatMetas.map((function(e,i){var s={time:e.time,date:o.dateEnv.toDate(e.date),view:o.viewApi},a=["fc-timegrid-slot","fc-timegrid-slot-lane",e.isLabeled?"":"fc-timegrid-slot-minor"];return Object(l["gb"])("tr",{key:e.key,ref:r.createRef(e.key)},t.axis&&Object(l["gb"])(b,u({},e)),Object(l["gb"])(l["B"],{hookProps:s,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(function(t,o,n,r){return Object(l["gb"])("td",{ref:t,className:a.concat(o).join(" "),"data-time":e.isoTimeStr},r)})))})))},t}(l["b"]),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(l["lb"])(),t.slatElRefs=new l["A"],t}return d(t,e),t.prototype.render=function(){var e=this,t=e.props,o=e.context;return Object(l["gb"])("div",{className:"fc-timegrid-slots",ref:this.rootElRef},Object(l["gb"])("table",{className:o.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,Object(l["gb"])(j,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))},t.prototype.componentDidMount=function(){this.updateSizing()},t.prototype.componentDidUpdate=function(){this.updateSizing()},t.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var e=this.props;if(e.onCoords&&null!==e.clientWidth){var t=this.rootElRef.current;t.offsetHeight&&e.onCoords(new S(new l["z"](this.rootElRef.current,D(this.slatElRefs.currentMap,e.slatMetas),!1,!0),this.props.dateProfile,e.slatMetas))}},t}(l["b"]);function D(e,t){return t.map((function(t){return e[t.key]}))}function w(e,t){var o,n=[];for(o=0;o<t;o+=1)n.push([]);if(e)for(o=0;o<e.length;o+=1)n[e[o].col].push(e[o]);return n}function x(e,t){var o=[];if(e){for(s=0;s<t;s+=1)o[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var n=0,r=e.segs;n<r.length;n++){var i=r[n];o[i.col].segs.push(i)}}else for(var s=0;s<t;s+=1)o[s]=null;return o}function C(e,t,o,n,r){return P(e,t,o,n),R(e,r)}function P(e,t,o,n){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.top=o.computeDateTop(s.start,t),s.bottom=Math.max(s.top+(n||0),o.computeDateTop(s.end,t))}}function R(e,t){for(var o=0,n=e;o<n.length;o++){var r=n[o];r.level=null,r.forwardCoord=null,r.backwardCoord=null,r.forwardPressure=null}var i;e=Object(l["fc"])(e,t);var s=M(e);if(T(s),i=s[0]){for(var a=0,c=i;a<c.length;a++){r=c[a];N(r)}for(var d=0,u=i;d<u.length;d++){r=u[d];I(r,0,0,t)}}return e}function M(e){var t,o,n,r=[];for(t=0;t<e.length;t+=1){for(o=e[t],n=0;n<r.length;n+=1)if(!_(o,r[n]).length)break;o.level=n,(r[n]||(r[n]=[])).push(o)}return r}function _(e,t,o){void 0===o&&(o=[]);for(var n=0;n<t.length;n+=1)E(e,t[n])&&o.push(t[n]);return o}function E(e,t){return e.bottom>t.top&&e.top<t.bottom}function T(e){var t,o,n,r,i;for(t=0;t<e.length;t+=1)for(o=e[t],n=0;n<o.length;n+=1)for(r=o[n],r.forwardSegs=[],i=t+1;i<e.length;i+=1)_(r,e[i],r.forwardSegs)}function N(e){var t,o,n=e.forwardSegs,r=0;if(null==e.forwardPressure){for(t=0;t<n.length;t+=1)o=n[t],N(o),r=Math.max(r,1+o.forwardPressure);e.forwardPressure=r}}function I(e,t,o,n){var r,i=e.forwardSegs;if(null==e.forwardCoord)for(i.length?(H(i,n),I(i[0],t+1,o,n),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-o)/(t+1),r=0;r<i.length;r+=1)I(i[r],0,e.forwardCoord,n)}function H(e,t){var o=e.map(U),n=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(t);return o.sort((function(e,t){return Object(l["Z"])(e,t,n)})),o.map((function(e){return e._seg}))}function U(e){var t=Object(l["X"])(e);return t.forwardPressure=e.forwardPressure,t.backwardCoord=e.backwardCoord,t}var L=Object(l["jb"])({hour:"numeric",minute:"2-digit",meridiem:!1}),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isCondensed&&e.push("fc-timegrid-event-condensed"),Object(l["gb"])(l["G"],u({},this.props,{defaultTimeFormat:L,extraClassNames:e}))},t}(l["b"]),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){var e=this.props;return Object(l["gb"])(l["k"],{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&Object(l["gb"])("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},t}(l["b"]);l["db"].timeGridEventCondensedHeight=30;var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){var e=this,t=this,o=t.props,n=t.context,r=n.options.selectMirror,i=o.eventDrag&&o.eventDrag.segs||o.eventResize&&o.eventResize.segs||r&&o.dateSelectionSegs||[],s=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{};return Object(l["gb"])(l["l"],{elRef:o.elRef,date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraHookProps:o.extraHookProps},(function(t,n,a){return Object(l["gb"])("td",u({ref:t,className:["fc-timegrid-col"].concat(n,o.extraClassNames||[]).join(" ")},a,o.extraDataAttrs),Object(l["gb"])("div",{className:"fc-timegrid-col-frame"},Object(l["gb"])("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(o.businessHourSegs,"non-business"),e.renderFillSegs(o.bgEventSegs,"bg-event"),e.renderFillSegs(o.dateSelectionSegs,"highlight")),Object(l["gb"])("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(o.fgEventSegs,s)),Object(l["gb"])("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(i,{},Boolean(o.eventDrag),Boolean(o.eventResize),Boolean(r))),Object(l["gb"])("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(o.nowIndicatorSegs)),Object(l["gb"])(W,{date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraHookProps:o.extraHookProps})))}))},t.prototype.renderFgSegs=function(e,t,o,n,r){var i=this.props;return i.forPrint?this.renderPrintFgSegs(e):i.slatCoords?this.renderPositionedFgSegs(e,t,o,n,r):null},t.prototype.renderPrintFgSegs=function(e){var t=this,o=t.props,n=t.context;return e=Object(l["fc"])(e,n.options.eventOrder),e.map((function(e){return Object(l["gb"])("div",{className:"fc-timegrid-event-harness",key:e.eventRange.instance.instanceId},Object(l["gb"])(A,u({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isCondensed:!1},Object(l["Cb"])(e,o.todayRange,o.nowDate))))}))},t.prototype.renderPositionedFgSegs=function(e,t,o,n,r){var i=this,s=this,a=s.context,c=s.props;return e=C(e,c.date,c.slatCoords,a.options.eventMinHeight,a.options.eventOrder),e.map((function(e){var s=e.eventRange.instance.instanceId,a=o||n||r,d=a?u({left:0,right:0},i.computeSegTopBottomCss(e)):i.computeFgSegPositionCss(e);return Object(l["gb"])("div",{className:"fc-timegrid-event-harness"+(e.level>0?" fc-timegrid-event-harness-inset":""),key:s,style:u({visibility:t[s]?"hidden":""},d)},Object(l["gb"])(A,u({seg:e,isDragging:o,isResizing:n,isDateSelecting:r,isSelected:s===c.eventSelection,isCondensed:e.bottom-e.top<l["db"].timeGridEventCondensedHeight},Object(l["Cb"])(e,c.todayRange,c.nowDate))))}))},t.prototype.renderFillSegs=function(e,t){var o=this,n=this,r=n.context,i=n.props;if(!i.slatCoords)return null;P(e,i.date,i.slatCoords,r.options.eventMinHeight);var s=e.map((function(e){return Object(l["gb"])("div",{key:Object(l["V"])(e.eventRange),className:"fc-timegrid-bg-harness",style:o.computeSegTopBottomCss(e)},"bg-event"===t?Object(l["gb"])(l["c"],u({seg:e},Object(l["Cb"])(e,i.todayRange,i.nowDate))):Object(l["cc"])(t))}));return Object(l["gb"])(l["v"],null,s)},t.prototype.renderNowIndicator=function(e){var t=this.props,o=t.slatCoords,n=t.date;return o?e.map((function(e,t){return Object(l["gb"])(l["x"],{isAxis:!1,date:n,key:t},(function(t,r,i,s){return Object(l["gb"])("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(r).join(" "),style:{top:o.computeDateTop(e.start,n)}},s)}))})):null},t.prototype.computeFgSegPositionCss=function(e){var t,o,n=this.context,r=n.isRtl,i=n.options,s=i.slotEventOverlap,a=e.backwardCoord,l=e.forwardCoord;s&&(l=Math.min(1,a+2*(l-a))),r?(t=1-l,o=a):(t=a,o=1-l);var c={zIndex:e.level+1,left:100*t+"%",right:100*o+"%"};return s&&e.forwardPressure&&(c[r?"marginLeft":"marginRight"]=20),u(u({},c),this.computeSegTopBottomCss(e))},t.prototype.computeSegTopBottomCss=function(e){return{top:e.top,bottom:-e.bottom}},t}(l["b"]),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitFgEventSegs=Object(l["Qb"])(w),t.splitBgEventSegs=Object(l["Qb"])(w),t.splitBusinessHourSegs=Object(l["Qb"])(w),t.splitNowIndicatorSegs=Object(l["Qb"])(w),t.splitDateSelectionSegs=Object(l["Qb"])(w),t.splitEventDrag=Object(l["Qb"])(x),t.splitEventResize=Object(l["Qb"])(x),t.rootElRef=Object(l["lb"])(),t.cellElRefs=new l["A"],t}return d(t,e),t.prototype.render=function(){var e=this,t=this,o=t.props,n=t.context,r=n.options.nowIndicator&&o.slatCoords&&o.slatCoords.safeComputeTop(o.nowDate),i=o.cells.length,s=this.splitFgEventSegs(o.fgEventSegs,i),a=this.splitBgEventSegs(o.bgEventSegs,i),c=this.splitBusinessHourSegs(o.businessHourSegs,i),d=this.splitNowIndicatorSegs(o.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(o.dateSelectionSegs,i),p=this.splitEventDrag(o.eventDrag,i),f=this.splitEventResize(o.eventResize,i);return Object(l["gb"])("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Object(l["gb"])("table",{style:{minWidth:o.tableMinWidth,width:o.clientWidth}},o.tableColGroupNode,Object(l["gb"])("tbody",null,Object(l["gb"])("tr",null,o.axis&&Object(l["gb"])("td",{className:"fc-timegrid-col fc-timegrid-axis"},Object(l["gb"])("div",{className:"fc-timegrid-col-frame"},Object(l["gb"])("div",{className:"fc-timegrid-now-indicator-container"},"number"===typeof r&&Object(l["gb"])(l["x"],{isAxis:!0,date:o.nowDate},(function(e,t,o,n){return Object(l["gb"])("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:r}},n)}))))),o.cells.map((function(t,n){return Object(l["gb"])(z,{key:t.key,elRef:e.cellElRefs.createRef(t.key),dateProfile:o.dateProfile,date:t.date,nowDate:o.nowDate,todayRange:o.todayRange,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,fgEventSegs:s[n],bgEventSegs:a[n],businessHourSegs:c[n],nowIndicatorSegs:d[n],dateSelectionSegs:u[n],eventDrag:p[n],eventResize:f[n],slatCoords:o.slatCoords,eventSelection:o.eventSelection,forPrint:o.forPrint})}))))))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.updateCoords=function(){var e=this.props;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new l["z"](this.rootElRef.current,F(this.cellElRefs.currentMap,e.cells),!0,!1))},t}(l["b"]);function F(e,t){return t.map((function(t){return e[t.key]}))}var $=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processSlotOptions=Object(l["Qb"])(B),t.state={slatCoords:null},t.handleScrollRequest=function(e){var o=t.props.onScrollTopRequest,n=t.state.slatCoords;if(o&&n){if(e.time){var r=n.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),o(r)}return!0}return!1},t.handleColCoords=function(e){t.colCoords=e},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return d(t,e),t.prototype.render=function(){var e=this,t=e.props,o=e.state;return Object(l["gb"])("div",{className:"fc-timegrid-body",ref:t.rootElRef,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Object(l["gb"])(k,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Object(l["gb"])(G,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:o.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))},t.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.positionToHit=function(e,t){var o=this.context,n=o.dateEnv,r=o.options,i=this.colCoords,s=this.props.dateProfile,a=this.state.slatCoords,c=this.processSlotOptions(this.props.slotDuration,r.snapDuration),d=c.snapDuration,u=c.snapsPerSlot,p=i.leftToIndex(e),f=a.positions.topToIndex(t);if(null!=p&&null!=f){var b=a.positions.tops[f],h=a.positions.getHeight(f),v=(t-b)/h,m=Math.floor(v*u),g=f*u+m,y=this.props.cells[p].date,O=Object(l["M"])(s.slotMinTime,Object(l["Rb"])(d,g)),S=n.add(y,O),j=n.add(S,d);return{col:p,dateSpan:{range:{start:S,end:j},allDay:!1},dayEl:i.els[p],relativeRect:{left:i.lefts[p],right:i.rights[p],top:b,bottom:b+h}}}return null},t}(l["b"]);function B(e,t){var o=t||e,n=Object(l["kc"])(e,o);return null===n&&(o=e,n=1),{snapDuration:o,snapsPerSlot:n}}var q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.sliceRange=function(e,t){for(var o=[],n=0;n<t.length;n+=1){var r=Object(l["Jb"])(e,t[n]);r&&o.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:n})}return o},t}(l["E"]),Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayRanges=Object(l["Qb"])(V),t.slicer=new q,t.timeColsRef=Object(l["lb"])(),t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t}return d(t,e),t.prototype.render=function(){var e=this,t=this,o=t.props,n=t.context,r=o.dateProfile,i=o.dayTableModel,s=n.options.nowIndicator,a=this.buildDayRanges(i,r,n.dateEnv);return Object(l["gb"])(l["y"],{unit:s?"minute":"day"},(function(t,c){return Object(l["gb"])($,u({ref:e.timeColsRef,rootElRef:e.handleRootEl},e.slicer.sliceProps(o,r,null,n,a),{forPrint:o.forPrint,axis:o.axis,dateProfile:r,slatMetas:o.slatMetas,slotDuration:o.slotDuration,cells:i.cells[0],tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,clientWidth:o.clientWidth,clientHeight:o.clientHeight,expandRows:o.expandRows,nowDate:t,nowIndicatorSegs:s&&e.slicer.sliceNowDate(t,n,a),todayRange:c,onScrollTopRequest:o.onScrollTopRequest,onSlatCoords:o.onSlatCoords}))}))},t.prototype.queryHit=function(e,t){var o=this.timeColsRef.current.positionToHit(e,t);return o?{component:this,dateSpan:o.dateSpan,dayEl:o.dayEl,rect:{left:o.relativeRect.left,right:o.relativeRect.right,top:o.relativeRect.top,bottom:o.relativeRect.bottom},layer:0}:null},t}(l["i"]);function V(e,t,o){for(var n=[],r=0,i=e.headerDates;r<i.length;r++){var s=i[r];n.push({start:o.add(s,t.slotMinTime),end:o.add(s,t.slotMaxTime)})}return n}var Z=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function J(e,t,o,n,r){var i=new Date(0),s=e,a=Object(l["fb"])(0),c=o||K(n),d=[];while(Object(l["T"])(s)<Object(l["T"])(t)){var u=r.add(i,s),p=null!==Object(l["kc"])(a,c);d.push({date:u,time:s,key:u.toISOString(),isoTimeStr:Object(l["wb"])(u),isLabeled:p}),s=Object(l["M"])(s,n),a=Object(l["M"])(a,n)}return d}function K(e){var t,o,n;for(t=Z.length-1;t>=0;t-=1)if(o=Object(l["fb"])(Z[t]),n=Object(l["kc"])(o,e),null!==n&&n>1)return o;return e}var X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimeColsModel=Object(l["Qb"])(Y),t.buildSlatMetas=Object(l["Qb"])(J),t}return d(t,e),t.prototype.render=function(){var e=this,t=this.context,o=t.options,n=t.dateEnv,r=t.dateProfileGenerator,i=this.props,s=i.dateProfile,c=this.buildTimeColsModel(s,r),d=this.allDaySplitter.splitProps(i),p=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,o.slotLabelInterval,o.slotDuration,n),f=o.dayMinWidth,b=!f,h=f,v=o.dayHeaders&&Object(l["gb"])(l["m"],{dates:c.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:b?this.renderHeadAxis:null}),m=!1!==o.allDaySlot&&function(t){return Object(l["gb"])(a["a"],u({},d.allDay,{dateProfile:s,dayTableModel:c,nextDayThreshold:o.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:b?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:i.forPrint},e.getAllDayMaxEventProps()))},g=function(t){return Object(l["gb"])(Q,u({},d.timed,{dayTableModel:c,dateProfile:s,axis:b,slotDuration:o.slotDuration,slatMetas:p,forPrint:i.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return h?this.renderHScrollLayout(v,m,g,c.colCnt,f,p,this.state.slatCoords):this.renderSimpleLayout(v,m,g)},t}(y);function Y(e,t){var o=new l["n"](e.renderRange,t);return new l["o"](o,!1)}var ee={allDaySlot:Boolean},te=Object(l["kb"])({initialView:"timeGridWeek",optionRefiners:ee,views:{timeGrid:{component:X,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),oe=te,ne=o("a20c"),re=o("327e"),ie=o.n(re);function se(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function ae(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?se(Object(o),!0).forEach((function(t){le(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):se(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function le(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ce={components:{FullCalendar:s["a"]},data:function(){return{modalEditShow:!1,modalSetupShow:!1,eventinfo:{},selectedUsers:{},sendingInvitation:!1,dataInvitations:[],allocations:[],fromDate:(new Date).toISOString(),untilDate:(new Date).toISOString(),roles:{DocumentManager:!1,MedicLab:!1,DataExporter:!1,Helper:!1,MedicTester:!1},revision:!1,place:"",data:[],tabIndex:-1,person:{name:"",email:"",phone:"",message:""},fields:[{label:"Meno",key:"name",sortable:!0},{label:"Email",key:"email",sortable:!0},{label:"Akcie",key:"actions",sortable:!1}],fieldsInvitations:[{label:"Meno",key:"name",sortable:!0},{label:"Email",key:"email",sortable:!0},{label:"Pozvaný osobou",key:"inviterName",sortable:!0},{label:"Čas pozvánky",key:"invitationTime",sortable:!0},{label:"Stav pozvánky",key:"status",sortable:!0},{label:"Akcie",key:"actions",sortable:!1}],calendarOptions:{locale:ie.a,headerToolbar:{start:"dayGridWeek,dayGridMonth timeGridWeek,timeGridDay",center:"title",end:"today prev,next"},initialView:"timeGridWeek",plugins:[a["b"],oe,ne["a"]],selectable:!0,eventClick:this.eventClick,select:this.select,selectAllow:this.selectAllow,eventRender:this.eventRender,contentHeight:500,slotDuration:"01:00:00",displayEventTime:!1,firstDay:1,eventDisplay:"block",events:[]},events:[],selection:{title:"Title",allDay:!0}}},computed:{placePrivider:function(){var e=this;return this.$store.state.placeProvider.places?this.$store.state.placeProvider.places.find((function(t){return t.placeProviderId===e.pp})):{}},pp:function(){return this.$store.state?this.$store.state.user.tokenData.pp:""},placeObj:function(){return this.$store.state.place.places?this.$store.state.place.places[this.place]:{}},canAssign:function(){var e=this.roles.MedicTester||this.roles.DocumentManager||this.roles.MedicLab||this.roles.DataExporter||this.roles.Helper;if(!e)return!1;for(var t in this.selectedUsers)if(this.selectedUsers[t])return!0;return!1},fullDayMode:function(){return this.displayHoursFrom()==this.displayHoursUntil()},untilDateMinusOneDay:function(){var e=new Date(this.untilDate);return e.setDate(e.getDate()-1)}},watch:{pp:function(){this.ListPPInvites({placeProviderId:this.pp})},placePrivider:function(){console.log("placePrivider",this.placePrivider)},tabIndex:function(){var e=this;this.$refs.calendar&&this.$nextTick((function(){var t=e.$refs.calendar.getApi();t.next(),t.prev()}))},place:function(){var e=this;console.log("place",this.place),this.ListPlaceAllocations({placeId:this.place}).then((function(t){e.allocations=t,console.log("this.allocations2",e.allocations),e.redrawEvents(t)})),this.ListScheduledDays({placeId:this.place}).then((function(t){t&&e.processScheduledDays()}))},allPlaces:function(){var e=this;this.ListScheduledDays({placeId:this.place}).then((function(t){t&&e.processScheduledDays()}))},fromDate:function(){},untilDate:function(){}},mounted:function(){var e=this;this.LoadUsers().then((function(t){t&&(e.data=Object.values(t))})),this.ListPrivate().then((function(t){t&&e.ListPlaceAllocations({placeId:e.place}).then((function(t){e.allocations=t,e.redrawEvents(t),console.log("this.allocations1",e.allocations)}))})),this.ReloadPlaces(),this.ListPPInvites({placeProviderId:this.pp}).then((function(t){t&&(e.dataInvitations=t)})),this.tabIndex=0},methods:ae(ae(ae({},Object(i["b"])({ListPrivate:"placeProvider/ListPrivate",InviteUser:"user/InviteUser",ListPPInvites:"user/ListPPInvites",InviteUserToPP:"placeProvider/InviteUserToPP",ListPlaceAllocations:"placeProvider/ListPlaceAllocations",RemoveAllocationAtPlace:"placeProvider/RemoveAllocationAtPlace",AllocatePersonsToPlace:"placeProvider/AllocatePersonsToPlace",LoadUsers:"user/LoadUsers",RemoveUser:"user/RemoveUser",ListScheduledDays:"place/ListScheduledDays",ReloadPlaces:"place/ReloadPrivatePlaces"})),Object(i["b"])({openSuccess:"snackbar/openSuccess"})),{},{redrawEvents:function(e){for(var t in this.calendarOptions.events=[],e){var o=this.getUser(e[t].user);console.log("allocations[index]",e[t],o);var n=e[t].user;o&&o.name&&(n=o.name);var r=this.name2shortcut(n);e[t].title=r;var i=this.roleColor(e[t].role);e[t].backgroundColor=i,this.calendarOptions.events.push(e[t])}},processScheduledDays:function(){this.events=[],this.actions={}},eventClick:function(e){this.eventinfo=e,this.modalEditShow=!0},select:function(e){this.fromDate=e.startStr,this.untilDate=e.endStr,this.modalSetupShow=!0},displayHoursFrom:function(){return new Date(this.fromDate).getHours()},displayHoursUntil:function(){return new Date(this.untilDate).getHours()},selectAllow:function(e){console.log("info",e,new Date<e.start);var t=new Date,o=t.setDate(t.getDate()-1);return!(o>e.start)},formatRoles:function(e){return e.item.roles.join(", ")},deleteUserClick:function(e){var t=this;confirm("Naozaj chcete vymazať užívateľa?")&&this.RemoveUser({email:e.item.email}).then((function(e){e&&t.LoadUsers().then((function(e){e&&(t.data=Object.values(e))}))}))},deleteInvitationClick:function(e){confirm("Naozaj chcete zrušiť pozvánku?")&&console.log("todo")},inviteUserClick:function(){var e=this;this.sendingInvitation=!0,this.InviteUserToPP(this.person).then((function(t){e.sendingInvitation=!1,t&&(e.openSuccess("Užívateľ pozvaný"),e.email="",e.name="",e.phone="",e.ListPPInvites({placeProviderId:e.pp}).then((function(t){t&&(e.dataInvitations=t)})))}))},eventRender:function(e,t){console.log("eventRender",e),t.find("span.fc-event-title").html(t.find("span.fc-event-title").text())},unassignClick:function(e){var t=this;confirm("Naozaj chcete odobrať tieto oprávnenia?")&&(console.log("event",e),this.RemoveAllocationAtPlace({allocationId:e.id,placeId:this.place}).then((function(e){e&&t.ListPlaceAllocations({placeId:t.place}).then((function(e){console.log("this.allocations4",t.allocations),t.allocations=e,t.redrawEvents(e)}))})))},assignClick:function(){var e=this;for(var t in console.log("this.selectedUsers",this.selectedUsers),this.roles)if(this.roles[t])for(var o in this.selectedUsers)if(this.selectedUsers[o]){console.log("selectedUsers",t,o);var n=new Date(this.fromDate),r=new Date(this.untilDate);n.setHours(12,0,0,0),r.setHours(12,0,0,0),this.fullDayMode&&r.setDate(r.getDate()-1);for(var i=new Date(n);i<=new Date(r);i.setDate(i.getDate()+1)){var s=new Date(i);this.fullDayMode?s.setHours(0,0,0,0):s.setHours(new Date(this.fromDate).getHours(),0,0,0);var a=s.toISOString();this.fullDayMode?s.setHours(24,0,0,0):s.setHours(new Date(this.untilDate).getHours(),0,0,0);var l=s.toISOString(),c=this.roleColor(t),d=this.getUser(o),u=d.name;u||(u=o);var p=this.name2shortcut(u);this.events.push({title:p,start:a,end:l,backgroundColor:c,user:o,role:t})}}this.place&&this.events.length>0&&this.AllocatePersonsToPlace({allocations:this.events,placeId:this.place}).then((function(t){t&&e.ListPlaceAllocations({placeId:e.place}).then((function(t){console.log("this.allocations1",e.allocations),e.allocations=t,e.redrawEvents(t),e.events=[]}))}))},roleStyle:function(e){var t=this.roleColor(e);return"background: ".concat(t,"; color: white; border-radius: 3px; margin-bottom: 5px; padding: 2px 5px; font-weight:bold; ")},getBackground:function(e){return this.roleColor(e)},roleColor:function(e){if(!e)return"black";switch(e){case"Helper":return"#666";case"MedicTester":return"green";case"MedicLab":return"blue";case"DocumentManager":return"darkorange";case"DataExporter":return"purple"}return"red"},role2Text:function(e){if(console.log("role2Text.role",e),!e)return"?";switch(e){case"Helper":return"Pomocník";case"MedicTester":return"Doktor pri odbere";case"MedicLab":return"Doktor v laboratóriu";case"DocumentManager":return"Správca certifikátov";case"DataExporter":return"Exporter údajov pre hygienu"}return"red"},name2shortcut:function(e){if(!e)return"???";var t=e.trim().split(" ");return 1==t.length?e.length<=3?e.toUpperCase():e.substring(0,3).toUpperCase():t[0].length>=1&&t[t.length-1].length>=2?(t[0].substring(0,1)+t[t.length-1].substring(0,2)).toUpperCase():(t[0].substring(0,1)+t[t.length-1].substring(0,1)).toUpperCase()+"?"},getUser:function(e){return this.placePrivider.users.find((function(t){return t.email==e}))},userNotSelected:function(){for(var e in this.selectedUsers)if(this.selectedUsers[e])return!1;return!0},roleNotSelected:function(){for(var e in this.roles)if(this.roles[e])return!1;return!0}})},de=ce,ue=o("2877"),pe=Object(ue["a"])(de,n,r,!1,null,null,null);t["default"]=pe.exports}}]);